{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/utils/env.ts","webpack:///./src/services/manager/screen.ts","webpack:///./src/services/navigator/init.ts","webpack:///./src/services/manager/uimgr.ts","webpack:///./src/services/navigator/stack.ts","webpack:///./src/utils/bind.ts","webpack:///./src/services/platform/rank/_rank.ts","webpack:///./src/services/platform/_size.ts","webpack:///./src/services/display/ui.ts","webpack:///./src/services/display/toastview.ts","webpack:///./src/services/manager/bg.ts","webpack:///./src/services/navigator/loader.ts","webpack:///./src/services/display/popupmanager.ts","webpack:///./src/services/display/toastmanager.ts","webpack:///./src/services/display/popupview.ts","webpack:///./src/services/views/tips.ts","webpack:///./src/services/views/bg.ts","webpack:///./src/index.ts","webpack:///./src/polyfill.ts","webpack:///./src/services/audio.ts","webpack:///./src/utils/looper.ts","webpack:///./src/services/platform/ad.ts","webpack:///./src/services/platform/ad/ad_fb.ts","webpack:///./src/services/platform/ad/ad_qq.ts","webpack:///./src/services/platform/ad/ad_wx.ts","webpack:///./src/services/platform/ad/ad_bd.ts","webpack:///./src/services/platform/ad/ad_br.ts","webpack:///./src/services/platform/app.ts","webpack:///./src/services/platform/app/app_fb.ts","webpack:///./src/services/platform/app/app_qq.ts","webpack:///./src/services/platform/app/app_wx.ts","webpack:///./src/services/platform/app/app_bd.ts","webpack:///./src/services/platform/app/app_br.ts","webpack:///./src/services/platform/rank.ts","webpack:///./src/services/platform/rank/rank_fb.ts","webpack:///./src/services/platform/rank/rank_qq.ts","webpack:///./src/services/platform/rank/rank_wx.ts","webpack:///./src/services/platform/rank/rank_bd.ts","webpack:///./src/services/platform/rank/rank_br.ts","webpack:///./src/services/other.ts","webpack:///./src/services/runtime.ts","webpack:///./src/services/utils.ts","webpack:///./src/services/display/activity.ts","webpack:///./src/services/platform/init.ts","webpack:///./src/services/platform/init/init_fb.ts","webpack:///./src/services/platform/init/init_qq.ts","webpack:///./src/services/platform/init/init_wx.ts","webpack:///./src/services/platform/init/init_bd.ts","webpack:///./src/services/platform/init/init_br.ts","webpack:///./src/services/comp.ts","webpack:///./src/services/comps/comp_toast.ts","webpack:///./src/services/views/icon.ts","webpack:///./src/services/comps/comp_modal.ts","webpack:///./src/services/views/modal.ts","webpack:///./src/services/comps/comp_loading.ts","webpack:///./src/services/comps/comp_vibrate.ts"],"names":["root","factory","exports","module","define","amd","a","i","this","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","isFacebookApp","window","isMock","isQQApp","isWechatApp","execWX","func","options","_i","arguments","length","funcs","split","instant","shift","apply","isBaiduApp","execBD","_tape_version","_app_version","_debugOn","_env","getEnv","indexOf","FACEBOOK","QQ","WECHAT","BAIDU","BROWSER","default","getAppVersion","getVersion","isLayaApp","isConchApp","postMessageToConch","params","callback","Laya","conchMarket","sendMessageToPlatform","JSON","stringify","json","parse","isBrowserApp","execBR","execQQ","execFB","postMessageToWXOpenDataContext","data","openDataContext","postMessage","postMessageToBDOpenDataContext","setDebug","on","printError","message","console","error","concat","printDebug","log","setEnv","env","isDev","isProd","getPlatform","bg_1","uimgr_1","_offset_x","_offset_y","_design_width","_design_height","_deviation","initScreen","is3D","width","height","screenRatio","Browser","clientHeight","laya","utils","clientWidth","initRatio","initWidth","initHeight","Math","abs","Laya3D","init","stage","scaleMode","Stage","SCALE_EXACTFIT","alignH","ALIGN_CENTER","alignV","ALIGN_MIDDLE","initBg","initUI","setDeviation","deviation","getWidth","getHeight","getOffestX","getOffestY","getDesignWidth","getDesignHeight","stack_1","_options","_inited","_isReady","_readyResolve","_readyPromise","Promise","resolve","_beginLoadStaticRes","res","commonRes","loader","load","Handler","_onStaticResLoaded","onLoaded","progress","onLoadProgress","mainPage","navigate","initNavigator","fileVersion","ResourceVersion","type","FILENAME_VERSION","enable","onNavigatorReady","setNavigatorReady","_uiManager","_mainUILayer","_topUILayer","loader_1","_offsetX","_offsetY","_checkInit","Sprite","addChild","x","y","checkFocus","numChildren","getChildAt","setFocus","offsetX","offsetY","moveTopToMainLayer","view","parent","removeChild","addViewToMainLayer","addViewTopLayer","_loaders","_loading","_all","_length","_getStack","index","len","_showStack","anim","stack","show","_refreshStack","hide","_popStack","count","splice","forEach","element","exit","focus","page","action","single","open","onShow","push","nextProgress","stacks","filter","pop","number","popToTop","finish","instance","_finishStack","tryParseJson","e","_offsetEnable","_offsetSelf","setLocationSelf","offset","bindView","targetView","targetData","elementView","where","whereSplit","findValue","undefined","whereArgv","target","defaultValue","_a","toString","Number","substr","findDataByWhere","visible","List","listView_1","array","repeatY","repeatX","vScrollBarSkin","hScrollBarSkin","renderHandler","this_1","itemView","elementItemData","assign","selfIndex","findIndex","item","self","scrollTo","FontClip","Label","text","Text","Image","skin","Box","env_1","fetchRankDataForFB","cb","getLeaderboardAsync","then","leaderboard","getConnectedPlayerEntriesAsync","entries","selfInfo_1","playerId","nickname","avatarUrl","selfIndex_1","selfData_1","rankSelf_1","rankThree","rankList","map","entry","rank","getRank","score","getScore","timestamp","getTimestamp","extraData","getExtraData","getPlayer","getID","getName","getPhoto","slice","selfInfo","selfData","rankSelf","setRankScoreForFB","_this","setScoreAsync","_rankKey","fetchRankDataForQQ","setRankScoreForQQ","fetchRankDataForBR","setRankScoreForBR","fetchRankDataForBD","setRankScoreForBD","screen_1","fixWidthForWechat","systemInfo","windowWidth","fixHeightForWechat","windowHeight","fixWidthForBaidu","fixHeightForBaidu","ui","_super","handleOnTouchOutside","_bgSprite","_bgAlpha","_bgColor","_isTranslucent","_isShow","_handleOnTouchOutside","_canceledOnTouchOutside","_mask","_onEvent","isShow","canceledOnTouchOutside","stopPropagation","setTimeout","__extends","getChildByName","removeChildByName","bgAlpha","refreshBg","bgColor","isTranslucent","refreshCanceledOnTouchOutside","nonPenetrating","alpha","graphics","clear","drawRect","offAll","mouseThrough","Event","CLICK","addChildAt","Component","toastmanager_1","ui_1","ToastView","duration","displayDuration","easeIn","easeOut","fromProps","toProps","onHide","showToast","hideToast","toast","_bgImage","_bgSkin","_bgSizeGrid","_drawSkin","sizeGrid","setBgSkin","url","setBgColor","color","setBgTexture","texture","fillTexture","getBgSprite","init_1","default_1","_activity","_isFocus","_newActivity","_onLoaded","_onLoadProgress","onCreate","onNextProgress","activity","Ease","linearIn","onResume","Tween","to","onPause","onDestroy","destroy","onFocus","_popups","_fromProps","_toProps","_hidePopup","result","popupView","from","linearOut","_hidePopupAnim","_onHide","popup","removeSelf","_showPopup","_showPopupAnim","setDefaultAnim","showPopup","views","hidePopup","v","_toasts","_popToast","_on_hide","_pushToast","popupmanager_1","PopupView","icon_1","TipsView","_maxWidth","_minWidth","_padding","_fontSize","_radius","_bgView","_iconView","_iconSize","_titleView","size","min","_initBg","_initIcon","_initTitle","radius","setSize","align","valign","wordWrap","fontSize","setContent","title","icon","titleY","bgH","setIcon","max","callDraw","realRadius","drawPath","fillStyle","audio_1","ad_1","app_1","rank_1","other_1","runtime_1","utils_1","activity_1","popupview_1","toastview_1","comp_1","Tape","init3D","start","showLoading","hideLoading","showModal","vibrateShort","vibrateLong","bg","screen","audio","ad","app","other","runtime","navigator","Activity","varArgs","TypeError","nextSource","nextKey","writable","configurable","looper_1","AudioController","_auidoUrl","_chancel","_playing","_onPlay","_onPause","_onStop","_onError","_onProgress","_onComplete","_position","_duration","_paused","_type","_playTime","_update","position","Date","now","stop","onPlay","onStop","onProgress","onComplete","onError","isPaused","isPlaying","play","loops","invoke","fixWechatAudioPlay","playUrl","targetUrl","replaceExt","ext","Utils","getFileExtension","searchExt","SoundManager","playSound","loop","pause","resume","removeChannel","destroySound","_musicAudio","playMusic","stopAll","stopMusic","stopAllSound","Looper","_tasks","_hasLoop","_checkLoop","timer","frameLoop","task","caller","clearAll","removeIndexArray_1","reverse","removeItemForWhere","ad_fb_1","ad_qq_1","ad_wx_1","ad_bd_1","ad_br_1","Ad","_rewardedAdId","_rewardedVideoAd","_preloadRewardedVideo","isSupportedRewardedVideoAd","isPreloadRewardedVideoAd","configRewardedVideoAd","platform","adId","watchRewardedVideoAd","onWatch","_onCancal","loadAsync","catch","err","showAsync","isSupportedBannerAd","configBannerAd","showBannerAd","hideBannerAd","onCancal","w","h","_size_1","_bannerAdId","_bannerAd","_rewardedVideoOnClose","_rewardedVideoOnError","_emptyOnError","adUnitId","offError","offClose","isEnded","errMsg","onClose","realLeft_1","realTop_1","realWidth_1","realHeight_1","style","left","top","onResize","newL","configZ","newZ","newT","newW","newH","app_fb_1","app_qq_1","app_wx_1","app_bd_1","app_br_1","App","_launchCallback","_pauseCallback","_init","can_subscribe","_checkOnLaunch","scene","query","onLaunch","getUserInfo","city","country","province","gender","language","raw","_userinfoButton","onHandler","userInfo","nickName","withCredentials","success","fail","imageUrl","image","onTap","onblur","rank_fb_1","rank_qq_1","rank_wx_1","rank_bd_1","rank_br_1","bind_1","_rank_1","Rank","_rankUi","_rankViews","_rankData","_canDraw","_count","_offset","_delayObj","_drawRankView","isDestroyeds","rankView","_destroyed","unshift","destroyChildren","Array","View","createComp","_bindRankView","_delayBindRankView","isSupportedRank","createRankView","scrollRect","Rectangle","setRankLocationSelf","setRankKey","setRankScore","showRank","hideRank","sharedCanvasView","sharedCanvas","rankTexture","Texture","bitmap","alwaysChange","rankSprite","drawTexture","_clubButton","hideClubButton","isSupportKefuConversation","openKefuConversation","isSupportClubButton","showClubButton","top_1","icons","viewScale","scale","pivotX","pivotY","pivot","pivotCenter","scaleX","scaleY","scaleTime","bindClick","MOUSE_DOWN","scaleSmalValue","MOUSE_UP","scaleBigValue","MOUSE_OUT","sound","clickSound","btn","Button","btn_img","btn_label","btn_sprite","btn_box","randomArrayItem","source","floor","random","tryToObject","randomUUID","_s4","substring","randomInteger","minNum","maxNum","randomNumber","randomArray","randomLength","copy","randomObj","anyToArray","back","redirectTo","init_fb_1","init_qq_1","init_wx_1","init_bd_1","init_br_1","_get","MiniAdpter","BMiniAdapter","newOptions","_isLoaded","_percentage","runMockLoading","Init","designWidth","designHeight","comp_toast_1","comp_modal_1","comp_loading_1","comp_vibrate_1","tips_1","Toast","mask","complete","icon_base64","_angle","_image","rotation","extendStatics","setPrototypeOf","__proto__","b","__","constructor","Modal","modal_1","ModalContentView","content","showCancel","cancelText","cancelColor","confirmText","confirmColor","_btnEffect","_maxW","_btnHeight","_contentView","_btnsView","_cancelBtn","_confirmBtn","_lineView","_line2View","_lineHeight","_callback","_initContent","_initButton"],"mappings":"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","file":"tape.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","//////////////////////////\r\n/////  Laya\r\n//////////////////////////\r\n\r\nconst isLayaApp = () => {\r\n    return window.hasOwnProperty(\"Laya\") && !window['Laya'].isMock;\r\n}\r\n\r\nconst isConchApp = () => {\r\n    return window.hasOwnProperty(\"conch\") && !window['conch'].isMock;\r\n}\r\n\r\nconst postMessageToConch = (params, callback) => {\r\n    if (!Laya || !Laya.conchMarket) {\r\n        callback && callback({})\r\n        return;\r\n    }\r\n    Laya.conchMarket.sendMessageToPlatform(JSON.stringify(params || {}), function (json): void {\r\n        callback && callback(JSON.parse(json || '{}'))\r\n    });\r\n}\r\n\r\n//////////////////////////\r\n/////  Browser\r\n//////////////////////////\r\n\r\nconst isBrowserApp = () => {\r\n    return !isFacebookApp() && !isWechatApp() && !isQQApp();\r\n}\r\n\r\nfunction execBR(func: string, ...options) {\r\n    let funcs = func.split('.');\r\n    let instant = window;\r\n    while (funcs.length > 1) {\r\n        instant = instant[funcs.shift()];\r\n    }\r\n    if (instant && funcs.length == 1) {\r\n        if (instant.hasOwnProperty(funcs[0])) {\r\n            return instant[funcs[0]](...options);\r\n        }\r\n    }\r\n}\r\n\r\n//////////////////////////\r\n/////  Facebook\r\n//////////////////////////\r\n\r\nconst isFacebookApp = () => {\r\n    return window.hasOwnProperty(\"FBInstant\") && !window['FBInstant'].isMock;\r\n}\r\n\r\nfunction execFB(func: string, ...options) {\r\n    if (window.hasOwnProperty(\"FBInstant\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['FBInstant'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n//////////////////////////\r\n/////  QQ\r\n//////////////////////////\r\n\r\nconst isQQApp = () => {\r\n    return window.hasOwnProperty(\"BK\") && !window['BK'].isMock;\r\n}\r\n\r\nfunction execQQ(func: string, ...options) {\r\n    if (window.hasOwnProperty(\"BK\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['BK'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//////////////////////////\r\n/////  Wechat\r\n//////////////////////////\r\n\r\nconst isWechatApp = () => {\r\n    return !isFacebookApp() && !isQQApp() && window.hasOwnProperty(\"wx\") && !window['wx'].isMock;\r\n}\r\n\r\nfunction execWX(func, ...options) {\r\n    if (window.hasOwnProperty(\"wx\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['wx'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction postMessageToWXOpenDataContext(data) {\r\n    let openDataContext = execWX('getOpenDataContext');\r\n    openDataContext && openDataContext.postMessage && openDataContext.postMessage(data);\r\n}\r\n\r\n//////////////////////////\r\n/////  Baidu\r\n//////////////////////////\r\n\r\nconst isBaiduApp = () => {\r\n    return !isFacebookApp() && !isQQApp() && window.hasOwnProperty(\"swan\") && !window['swan'].isMock;\r\n}\r\n\r\nfunction execBD(func, ...options) {\r\n    if (window.hasOwnProperty(\"swan\")) {\r\n        let funcs = func.split('.');\r\n        let instant = window['swan'];\r\n        while (funcs.length > 1) {\r\n            instant = instant[funcs.shift()];\r\n        }\r\n        if (instant && funcs.length == 1) {\r\n            if (instant.hasOwnProperty(funcs[0])) {\r\n                return instant[funcs[0]](...options);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction postMessageToBDOpenDataContext(data) {\r\n    let openDataContext = execBD('getOpenDataContext');\r\n    openDataContext && openDataContext.postMessage && openDataContext.postMessage(data);\r\n}\r\n\r\n//////////////////////////\r\n/////  Version\r\n//////////////////////////\r\n\r\nlet _tape_version = \"3.7.17\";\r\nlet _app_version = '${app_version}';\r\n\r\nfunction getVersion(): string {\r\n    if (_tape_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _tape_version;\r\n}\r\n\r\nfunction getAppVersion(): string {\r\n    if (_app_version.indexOf('${') === 0) {\r\n        return '1.0.0';\r\n    }\r\n    return _app_version;\r\n}\r\n\r\n//////////////////////////\r\n/////  Debug\r\n//////////////////////////\r\n\r\nlet _debugOn = true;\r\n\r\nfunction setDebug(on: boolean) {\r\n    _debugOn = on;\r\n}\r\n\r\nfunction printDebug(message: any, ...options) {\r\n    if (_debugOn) {\r\n        console.log(\"Tape:\", message, ...options);\r\n    }\r\n}\r\n\r\nfunction printError(message: any, ...options) {\r\n    if (_debugOn) {\r\n        console.error(\"Tape:\", message, ...options);\r\n    }\r\n}\r\n\r\n//////////////////////////\r\n/////  Env\r\n//////////////////////////\r\n\r\nlet _env = '${env}';\r\n\r\nfunction getEnv() {\r\n    if (_env.indexOf('${') === 0) {\r\n        return 'development';\r\n    }\r\n    return _env;\r\n}\r\n\r\nfunction setEnv(env) {\r\n    _env = env;\r\n}\r\n\r\nfunction isDev() {\r\n    return getEnv() !== 'production';\r\n}\r\n\r\nfunction isProd() {\r\n    return getEnv() === 'production';\r\n}\r\n\r\n\r\n//////////////////////////\r\n/////  platform\r\n//////////////////////////\r\n\r\nexport const FACEBOOK = 'facebook';\r\nexport const QQ = 'qq';\r\nexport const WECHAT = 'wechat';\r\nexport const BAIDU = 'baidu';\r\nexport const BROWSER = 'browser';\r\n\r\nfunction getPlatform() {\r\n    if (isFacebookApp()) {\r\n        return FACEBOOK;\r\n    } else if (isQQApp()) {\r\n        return QQ;\r\n    } else if (isWechatApp()) {\r\n        return WECHAT;\r\n    } else if (isBaiduApp()) {\r\n        return BAIDU;\r\n    }\r\n    return BROWSER;\r\n}\r\n\r\nexport default {\r\n    getAppVersion,\r\n    getVersion,\r\n    isLayaApp,\r\n    isConchApp,\r\n    postMessageToConch,\r\n    isBrowserApp,\r\n    execBR,\r\n    isQQApp,\r\n    execQQ,\r\n    isFacebookApp,\r\n    execFB,\r\n    isWechatApp,\r\n    execWX,\r\n    postMessageToWXOpenDataContext,\r\n    isBaiduApp,\r\n    execBD,\r\n    postMessageToBDOpenDataContext,\r\n    setDebug,\r\n    printError,\r\n    printDebug,\r\n    getEnv,\r\n    setEnv,\r\n    isDev,\r\n    isProd,\r\n    getPlatform,\r\n}","import { initBg } from \"./bg\";\r\nimport { initUI } from \"./uimgr\";\r\n\r\nlet _offset_x = 0;\r\nlet _offset_y = 0;\r\nlet _design_width = 0;\r\nlet _design_height = 0;\r\nlet _deviation = 0.01;\r\n\r\nexport function initScreen(is3D, width, height, ...options) {\r\n    _design_width = width;\r\n    _design_height = height;\r\n    let screenRatio = Laya.Browser.clientHeight / laya.utils.Browser.clientWidth;\r\n    let initRatio = height / width;\r\n    let initWidth = width;\r\n    let initHeight = height;\r\n    _offset_x = 0;\r\n    _offset_y = 0;\r\n    if (Math.abs(screenRatio / initRatio - 1) > _deviation) {\r\n        if (screenRatio > initRatio) {\r\n            initHeight = width * screenRatio;\r\n            _offset_y = (initHeight - height) / 2;\r\n        } else if (screenRatio < initRatio) {\r\n            initWidth = height / screenRatio;\r\n            _offset_x = (initWidth - width) / 2;\r\n        }\r\n    }\r\n    if (is3D) {\r\n        Laya3D.init.apply(this, [initWidth, initHeight, ...options]);\r\n    } else {\r\n        Laya.init.apply(this, [initWidth, initHeight, ...options]);\r\n    }\r\n    Laya.stage.scaleMode = Laya.Stage.SCALE_EXACTFIT;\r\n    Laya.stage.alignH = Laya.Stage.ALIGN_CENTER;\r\n    Laya.stage.alignV = Laya.Stage.ALIGN_MIDDLE;\r\n    initBg();\r\n    initUI(_offset_x, _offset_y)\r\n}\r\n\r\nfunction setDeviation(deviation) {\r\n    _deviation = deviation;\r\n}\r\n\r\nfunction getWidth() {\r\n    return Laya.stage.width;\r\n}\r\n\r\nfunction getHeight() {\r\n    return Laya.stage.height;\r\n}\r\n\r\nfunction getOffestX() {\r\n    return _offset_x;\r\n}\r\n\r\nfunction getOffestY() {\r\n    return _offset_y;\r\n}\r\n\r\nfunction getDesignWidth() {\r\n    return _design_width;\r\n}\r\n\r\nfunction getDesignHeight() {\r\n    return _design_height;\r\n}\r\n\r\nexport default {\r\n    setDeviation,\r\n    getWidth,\r\n    getHeight,\r\n    getOffestX,\r\n    getOffestY,\r\n    getDesignWidth,\r\n    getDesignHeight,\r\n}","import NavStack from \"./stack\";\r\n\r\nlet _options = null;\r\nlet _inited = false;\r\nlet _isReady = false;\r\nlet _readyResolve = null;\r\nlet _readyPromise: Promise<any> = new Promise((resolve) => {\r\n    _readyResolve = resolve;\r\n});\r\n\r\nfunction _enableResourceVersion() {\r\n    if (_options && _options.fileVersion) {\r\n        Laya.ResourceVersion.type = Laya.ResourceVersion.FILENAME_VERSION;\r\n        Laya.ResourceVersion.enable(_options.fileVersion, Laya.Handler.create(null, () => {\r\n            _beginLoadStaticRes();\r\n        }))\r\n    } else {\r\n        _beginLoadStaticRes();\r\n    }\r\n}\r\n\r\nfunction _beginLoadStaticRes() {\r\n    let res = _options.commonRes || [];\r\n    if (res.length > 0) {\r\n        Laya.loader.load(res, Laya.Handler.create(null, () => {\r\n            _onStaticResLoaded();\r\n            _options.onLoaded && _options.onLoaded();\r\n        }), Laya.Handler.create(this, (progress) => {\r\n            _options.onLoadProgress && _options.onLoadProgress(progress);\r\n        }, null, false));\r\n    } else {\r\n        _options.onLoadProgress && _options.onLoadProgress(100);\r\n        _options.onLoaded && _options.onLoaded();\r\n        _onStaticResLoaded();\r\n    }\r\n}\r\n\r\nfunction _onStaticResLoaded() {\r\n    _options.mainPage && NavStack.navigate(_options.mainPage);\r\n}\r\n\r\nexport function initNavigator(options) {\r\n    if (!options || _inited) {\r\n        return;\r\n    }\r\n    _options = options;\r\n    _enableResourceVersion();\r\n    _inited = true;\r\n}\r\n\r\nexport function onNavigatorReady(): Promise<any> {\r\n    if (_isReady) {\r\n        return Promise.resolve();\r\n    }\r\n    return _readyPromise;\r\n}\r\n\r\nexport function setNavigatorReady(): void {\r\n    if (_isReady) {\r\n        return;\r\n    }\r\n    _isReady = true;\r\n    _readyResolve();\r\n    _readyResolve = null;\r\n    _readyPromise = null;\r\n}","import { setFocus } from \"../navigator/stack\";\r\nimport NavLoader from \"../navigator/loader\";\r\n\r\nlet _inited = false;\r\nlet _uiManager: Laya.Sprite;\r\nlet _mainUILayer: Laya.Sprite;\r\nlet _topUILayer: Laya.Sprite;\r\nlet _offsetX = 0;\r\nlet _offsetY = 0;\r\n\r\nexport function initUI(offsetX, offsetY) {\r\n    _offsetX = offsetX;\r\n    _offsetY = offsetY;\r\n    _checkInit();\r\n}\r\n\r\nfunction _checkInit() {\r\n    if (!_inited) {\r\n        _uiManager = new Laya.Sprite();\r\n        _uiManager.name = '_tape_stage';\r\n        _mainUILayer = new Laya.Sprite();\r\n        _mainUILayer.name = '_tape_main_layer';\r\n        _topUILayer = new Laya.Sprite();\r\n        _topUILayer.name = '_tape_top_layer';\r\n        _uiManager.addChild(_mainUILayer);\r\n        _uiManager.addChild(_topUILayer);\r\n        Laya.stage.addChild(_uiManager);\r\n        _inited = true;\r\n    }\r\n    _mainUILayer.x = _offsetX;\r\n    _mainUILayer.y = _offsetY;\r\n    _topUILayer.x = _offsetX;\r\n    _topUILayer.y = _offsetY;\r\n}\r\n\r\nfunction checkFocus() {\r\n    if (_mainUILayer.numChildren > 0) {\r\n        let last = _mainUILayer.getChildAt(_mainUILayer.numChildren - 1);\r\n        if (last instanceof NavLoader) {\r\n            setFocus(true);\r\n            return;\r\n        }\r\n    }\r\n    setFocus(false);\r\n}\r\n\r\nfunction moveTopToMainLayer(view: NavLoader) {\r\n    _checkInit();\r\n    if (view && view.parent == _mainUILayer) {\r\n        _mainUILayer.removeChild(view);\r\n        _mainUILayer.addChild(view);\r\n    }\r\n    checkFocus();\r\n}\r\n\r\nfunction addViewToMainLayer(view) {\r\n    _checkInit();\r\n    view && _mainUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\n\r\nfunction addViewTopLayer(view) {\r\n    _checkInit();\r\n    view && _topUILayer.addChild(view);\r\n    checkFocus();\r\n}\r\n\r\nexport default {\r\n    checkFocus,\r\n    moveTopToMainLayer,\r\n    addViewToMainLayer,\r\n    addViewTopLayer,\r\n}","import UILoader from \"./loader\";\r\nimport UIMgr from \"../manager/uimgr\";\r\n\r\nlet _loaders = [];\r\nlet _loading = false;\r\n\r\nfunction _all() {\r\n    return _loaders;\r\n}\r\n\r\nfunction _length() {\r\n    return _loaders.length;\r\n}\r\n\r\nfunction _getStack(index = 0) {\r\n    var len = _length();\r\n    return len > index ? _loaders[len - 1 - index] : null;\r\n}\r\n\r\nfunction _showStack(index = 0, anim = false, callback = null) {\r\n    let stack = _getStack(index);\r\n    if (!stack) {\r\n        return;\r\n    }\r\n    stack.show(anim && _length() > 1, callback);\r\n}\r\n\r\nfunction _pushStack(stack) {\r\n    _loaders.push(stack);\r\n}\r\n\r\nfunction _topStack(stack) {\r\n    let index = _loaders.indexOf(stack);\r\n    if (index >= 0) {\r\n        _loaders.splice(index, 1);\r\n        _loaders.push(stack);\r\n        _refreshStack(null);\r\n        UIMgr.moveTopToMainLayer(stack);\r\n    }\r\n}\r\n\r\nfunction _refreshStack(callback) {\r\n    _showStack(0, true, () => {\r\n        let stack = _getStack(1);\r\n        if (!stack) {\r\n            return;\r\n        }\r\n        stack.hide();\r\n        callback && callback();\r\n    });\r\n}\r\n\r\nfunction _finishStack(stacks) {\r\n    if (!stacks || stacks.length <= 0) {\r\n        return;\r\n    }\r\n    for (var i = 0; _length() > 1 && i < stacks.length; i++) {\r\n        var stack = stacks[i];\r\n        _loaders.splice(_loaders.indexOf(stack), 1);\r\n        stack.hide();\r\n        stack.exit();\r\n    }\r\n    _showStack(0);\r\n}\r\n\r\nfunction _popStack(count) {\r\n    if (count >= _length()) {\r\n        count = _length() - 1;\r\n    }\r\n    if (count <= 0) {\r\n        return;\r\n    }\r\n    let pops = _loaders.splice(_length() - count, count);\r\n    pops.forEach(element => {\r\n        element.hide();\r\n        element.exit();\r\n    });\r\n    _showStack(0);\r\n}\r\n\r\nexport function setFocus(focus) {\r\n    let stack = _getStack();\r\n    if (stack) {\r\n        stack.focus(focus);\r\n    }\r\n}\r\n\r\nfunction navigate(page, params = null, action = null, single = false) {\r\n    if (!params) {\r\n        params = {};\r\n    }\r\n    let open = () => {\r\n        new UILoader({\r\n            page,\r\n            params,\r\n            onShow: () => {\r\n                _refreshStack(() => {\r\n                    action && action(true);\r\n                });\r\n            },\r\n            onLoaded: (loader) => {\r\n                _loading = false;\r\n                UIMgr.addViewToMainLayer(loader);\r\n                _pushStack(loader);\r\n            },\r\n            onLoadProgress: (loader, progress) => {\r\n                if (_loading) {\r\n                    var stack = _getStack();\r\n                    stack && stack.nextProgress(progress);\r\n                }\r\n            }\r\n        });\r\n    }\r\n    if (single || page.single) {\r\n        var stacks = [];\r\n        _all().forEach(stack => {\r\n            if (stack.filter(page)) {\r\n                stacks.push(stack);\r\n            }\r\n        });\r\n        stacks.length > 0 ? _topStack(stacks.pop()) : open();\r\n    } else {\r\n        open();\r\n    }\r\n}\r\n\r\nfunction popToTop() {\r\n    _popStack(_length());\r\n}\r\n\r\nfunction pop(number = 1) {\r\n    _popStack(number)\r\n}\r\n\r\nfunction finish(page, instance = null) {\r\n    var stacks = [];\r\n    _all().forEach(stack => {\r\n        if (stack.filter(page, instance)) {\r\n            stacks.push(stack);\r\n        }\r\n    });\r\n    _finishStack(stacks);\r\n}\r\n\r\nexport default {\r\n    navigate,\r\n    pop,\r\n    popToTop,\r\n    finish,\r\n}","function tryParseJson(data) {\r\n    if (typeof data === 'string') {\r\n        try {\r\n            return JSON.parse(data);\r\n        } catch (e) {\r\n            return data;\r\n        }\r\n    }\r\n    return data;\r\n}\r\n\r\nfunction findDataByWhere(data, where) {\r\n    let whereSplit = where.split('|');\r\n    let name = whereSplit[0];\r\n    let findValue = tryParseJson(data);\r\n    if (!data) {\r\n        findValue = null;\r\n    } else if (data[name]) {\r\n        findValue = tryParseJson(data[name]);\r\n    } else {\r\n        var nameSplit = name.split('.');\r\n        nameSplit.forEach(function (key) {\r\n            if (findValue !== null && findValue !== undefined && findValue[key] !== null && findValue[key] !== undefined) {\r\n                findValue = tryParseJson(findValue[key]);\r\n            } else {\r\n                findValue = null;\r\n            }\r\n        });\r\n    }\r\n    let whereArgv = [];\r\n    for (let index = 1; index < whereSplit.length; index += 2) {\r\n        const action = whereSplit[index];\r\n        const target = whereSplit.length > index + 1 ? whereSplit[index + 1] : '';\r\n        whereArgv.push({ action, target });\r\n    }\r\n    let defaultValue = null;\r\n    for (let index = 0; index < whereArgv.length; index++) {\r\n        const { action, target } = whereArgv[index];\r\n        if (action === 'default') {\r\n            defaultValue = target;\r\n        }\r\n        if (findValue !== null && findValue !== undefined) {\r\n            if ((action === 'eq' && target !== findValue.toString())\r\n                || (action === 'neq' && target === findValue.toString())\r\n                || (action === 'gt' && findValue <= target)\r\n                || (action === 'egt' && findValue < target)\r\n                || (action === 'lt' && findValue >= target)\r\n                || (action === 'elt' && findValue > target)\r\n                || (action === 'like' && findValue.toString().indexOf(target) < 0)) {\r\n                findValue = null;\r\n            } else if (action === 'sub') {\r\n                if (findValue.toString().length > Number(target)) {\r\n                    findValue = findValue.toString().substr(0, Number(target)) + '...';\r\n                }\r\n            } else if (action === 'append') {\r\n                findValue = findValue.toString() + target;\r\n            }\r\n        } else {\r\n            findValue = null;\r\n        }\r\n    }\r\n    if (findValue === null) {\r\n        findValue = defaultValue;\r\n    }\r\n    return findValue;\r\n}\r\n\r\nlet _offsetEnable = false;\r\nlet _offsetSelf = 0;\r\n\r\nexport function setLocationSelf(enable, offset = 0) {\r\n    _offsetEnable = enable;\r\n    _offsetSelf = offset;\r\n}\r\n\r\nexport function bindView(targetView, targetData) {\r\n    var data = tryParseJson(targetData);\r\n    for (var index = 0; index < targetView.numChildren; index++) {\r\n        var elementView = targetView.getChildAt(index);\r\n        if (elementView.name) {\r\n            var element = findDataByWhere(data, elementView.name);\r\n            if (element) {\r\n                elementView.visible = true;\r\n                if (elementView instanceof Laya.List) {\r\n                    const listView = elementView as Laya.List;\r\n                    listView.array = [];\r\n                    if (listView.repeatY > 1 && listView.repeatY >= listView.repeatX && !listView.vScrollBarSkin) {\r\n                        listView.vScrollBarSkin = null;\r\n                    } else if (listView.repeatX > 1 && listView.repeatX >= listView.repeatY && !listView.hScrollBarSkin) {\r\n                        listView.hScrollBarSkin = null;\r\n                    } else if (!listView.vScrollBarSkin && !listView.hScrollBarSkin) {\r\n                        listView.vScrollBarSkin = null;\r\n                    }\r\n                    listView.renderHandler = Laya.Handler.create(this, function (itemView, index) {\r\n                        var elementItemData = listView.array[index];\r\n                        if (typeof elementItemData === 'object') {\r\n                            Object.assign(elementItemData, { index });\r\n                        }\r\n                        bindView(itemView, elementItemData);\r\n                    }, null, false);\r\n                    listView.array = element;\r\n                    let selfIndex = listView.array.findIndex((item) => {\r\n                        return item.self === true;\r\n                    })\r\n                    if (selfIndex != -1 && _offsetEnable) {\r\n                        listView.scrollTo(_offsetSelf + selfIndex);\r\n                    } else {\r\n                        listView.scrollTo(0);\r\n                    }\r\n                } else if (elementView instanceof Laya.FontClip) {\r\n                    elementView.value = element;\r\n                } else if (elementView instanceof Laya.Label) {\r\n                    elementView.text = element;\r\n                } else if (elementView instanceof Laya.Text) {\r\n                    elementView.text = element;\r\n                } else if (elementView instanceof Laya.Image) {\r\n                    elementView.skin = element;\r\n                } else if (elementView instanceof Laya.Box) {\r\n                    bindView(elementView, element);\r\n                } else {\r\n                    elementView.value = element;\r\n                }\r\n            } else {\r\n                elementView.visible = false;\r\n            }\r\n        }\r\n    }\r\n}","import env from \"../../../utils/env\";\r\n\r\nexport function fetchRankDataForFB(key, count, offset, cb) {\r\n    let getLeaderboardAsync = env.execFB('getLeaderboardAsync', key);\r\n    if (getLeaderboardAsync && getLeaderboardAsync.then) {\r\n        getLeaderboardAsync.then((leaderboard) => {\r\n            return leaderboard.getConnectedPlayerEntriesAsync(count, offset);\r\n        }).then(entries => {\r\n            try {\r\n                let selfInfo = {\r\n                    playerId: env.execFB('player.getID'),\r\n                    nickname: env.execFB('player.getName'),\r\n                    avatarUrl: env.execFB('player.getPhoto'),\r\n                };\r\n                let selfIndex = -1;\r\n                let selfData = {};\r\n                let rankSelf = null;\r\n                let rankThree = [];\r\n                let rankList = entries.map((entry, index) => {\r\n                    let item = {\r\n                        rank: entry.getRank(),\r\n                        score: entry.getScore(),\r\n                        timestamp: entry.getTimestamp(),\r\n                        extraData: entry.getExtraData(),\r\n                        playerId: entry.getPlayer().getID(),\r\n                        nickname: entry.getPlayer().getName(),\r\n                        avatarUrl: entry.getPlayer().getPhoto(),\r\n                    }\r\n                    let self = item.playerId == selfInfo.playerId;\r\n                    if (self) {\r\n                        rankSelf = item;\r\n                        selfIndex = index;\r\n                        selfData = {\r\n                            score: item.score,\r\n                            extraData: item.extraData\r\n                        }\r\n                    }\r\n                    Object.assign(item, { self });\r\n                    return item;\r\n                });\r\n                if (selfIndex <= 0) {\r\n                    rankThree = rankList.slice(0, 3);\r\n                } else {\r\n                    rankThree = rankList.slice(selfIndex - 1, selfIndex + 1);\r\n                }\r\n                cb && cb({ selfInfo, selfData, rankList, rankSelf, rankThree });\r\n            } catch (error) {\r\n                cb && cb({});\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function setRankScoreForFB(key: string, score: number, extraData: string = null, callback = null) {\r\n    let getLeaderboardAsync = env.execFB('getLeaderboardAsync', key);\r\n    if (getLeaderboardAsync && getLeaderboardAsync.then) {\r\n        getLeaderboardAsync.then(function (leaderboard) {\r\n            return leaderboard.setScoreAsync(score, extraData);\r\n        }).then((res) => {\r\n            if (key == this._rankKey && res.getScore() == score) {\r\n                callback && callback();\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function fetchRankDataForQQ(key, count, offset, cb) {\r\n    cb && cb({});\r\n}\r\n\r\nexport function setRankScoreForQQ(key: string, score: number, extraData: string = null, callback = null) {\r\n    callback && callback();\r\n}\r\n\r\nexport function fetchRankDataForBR(key, count, offset, cb) {\r\n    cb && cb({});\r\n}\r\n\r\nexport function setRankScoreForBR(key: string, score: number, extraData: string = null, callback = null) {\r\n    callback && callback();\r\n}\r\n\r\nexport function fetchRankDataForBD(key, count, offset, cb) {\r\n    cb && cb({});\r\n}\r\n\r\nexport function setRankScoreForBD(key: string, score: number, extraData: string = null, callback = null) {\r\n    callback && callback();\r\n}","import env from \"../../utils/env\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport function fixWidthForWechat(width) {\r\n    let systemInfo = env.execWX('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowWidth = systemInfo.windowWidth;\r\n        let stageWidth = screen.getWidth();\r\n        return width * windowWidth / stageWidth;\r\n    }\r\n    return width;\r\n}\r\n\r\nexport function fixHeightForWechat(height) {\r\n    let systemInfo = env.execWX('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowHeight = systemInfo.windowHeight;\r\n        let stageHeight = screen.getHeight();\r\n        return height * windowHeight / stageHeight;\r\n    }\r\n    return height;\r\n}\r\n\r\nexport function fixWidthForBaidu(width) {\r\n    let systemInfo = env.execBD('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowWidth = systemInfo.windowWidth;\r\n        let stageWidth = screen.getWidth();\r\n        return width * windowWidth / stageWidth;\r\n    }\r\n    return width;\r\n}\r\n\r\nexport function fixHeightForBaidu(height) {\r\n    let systemInfo = env.execBD('getSystemInfoSync');\r\n    if (systemInfo) {\r\n        let windowHeight = systemInfo.windowHeight;\r\n        let stageHeight = screen.getHeight();\r\n        return height * windowHeight / stageHeight;\r\n    }\r\n    return height;\r\n}","import screen from \"../manager/screen\";\r\n\r\nexport default class ui extends Laya.Component {\r\n\r\n    private _bgSprite = null;\r\n    private _bgAlpha = 0.5;\r\n    private _bgColor = '#000000';\r\n    private _isTranslucent = true;\r\n    private _isShow = false;\r\n    private _handleOnTouchOutside = null;\r\n    private _canceledOnTouchOutside = false;\r\n    private _mask = false;\r\n    private _onEvent = null;\r\n\r\n    constructor(handleOnTouchOutside = null) {\r\n        super();\r\n        this._handleOnTouchOutside = handleOnTouchOutside;\r\n        this._onEvent = (e) => {\r\n            if (this.isShow && this.canceledOnTouchOutside) {\r\n                this._handleOnTouchOutside && this._handleOnTouchOutside();\r\n            }\r\n            e.stopPropagation();\r\n        }\r\n        setTimeout(() => this.initBg(), 0);\r\n    }\r\n\r\n    public set ui(view: Laya.Sprite) {\r\n        this.removeChildByName('_contentView');\r\n        view.name = '_contentView';\r\n        this.addChild(view);\r\n    }\r\n\r\n    public get ui(): Laya.Sprite {\r\n        return this.getChildByName('_contentView') as Laya.Sprite;\r\n    }\r\n\r\n    public set isShow(isShow) {\r\n        this._isShow = isShow;\r\n    }\r\n\r\n    public get isShow() {\r\n        return this._isShow;\r\n    }\r\n\r\n    public set bgAlpha(bgAlpha) {\r\n        this._bgAlpha = bgAlpha;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get bgAlpha() {\r\n        return this._bgAlpha;\r\n    }\r\n\r\n    public set bgColor(bgColor) {\r\n        this._bgColor = bgColor;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get bgColor() {\r\n        return this._bgColor;\r\n    }\r\n\r\n    public set isTranslucent(isTranslucent) {\r\n        this._isTranslucent = isTranslucent;\r\n        this.refreshBg();\r\n    }\r\n\r\n    public get isTranslucent() {\r\n        return this._isTranslucent;\r\n    }\r\n\r\n    public set canceledOnTouchOutside(canceledOnTouchOutside) {\r\n        this._canceledOnTouchOutside = canceledOnTouchOutside;\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n    public get canceledOnTouchOutside() {\r\n        return this._canceledOnTouchOutside;\r\n    }\r\n\r\n    public set nonPenetrating(nonPenetrating) {\r\n        this._mask = nonPenetrating;\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n    public get nonPenetrating() {\r\n        return this._mask;\r\n    }\r\n\r\n    private refreshBg() {\r\n        if (!this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite.alpha = this.bgAlpha;\r\n        this._bgSprite.graphics.clear();\r\n        if (!this.isTranslucent) {\r\n            this._bgSprite.graphics.drawRect(0, 0, this._bgSprite.width, this._bgSprite.height, this.bgColor);\r\n        }\r\n    }\r\n\r\n    private refreshCanceledOnTouchOutside() {\r\n        this._bgSprite && this._bgSprite.offAll();\r\n        if ((this.canceledOnTouchOutside || this.nonPenetrating) && this.ui) {\r\n            this.ui.mouseThrough = true;\r\n            this._bgSprite && this._bgSprite.on(Laya.Event.CLICK, this, this._onEvent);\r\n        }\r\n    }\r\n\r\n    private initBg() {\r\n        if (this._bgSprite) {\r\n            return;\r\n        }\r\n        this._bgSprite = new Laya.Sprite();\r\n        this._bgSprite.x = -screen.getOffestX();\r\n        this._bgSprite.y = -screen.getOffestY();\r\n        this._bgSprite.width = screen.getWidth();\r\n        this._bgSprite.height = screen.getHeight();\r\n        this.addChildAt(this._bgSprite, 0);\r\n        this.refreshBg();\r\n        this.refreshCanceledOnTouchOutside();\r\n    }\r\n\r\n}","import toast from \"./toastmanager\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class ToastView extends ui {\r\n\r\n    static show(params, onHide) {\r\n        toast.showToast(this, params, onHide);\r\n    }\r\n\r\n    static hide() {\r\n        toast.hideToast(this);\r\n    }\r\n\r\n    public toast;\r\n    public params;\r\n    public duration = 200;\r\n    public displayDuration = 1000;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n    public onShow?(): void;\r\n    public onHide?(): void;\r\n\r\n    constructor() {\r\n        super(() => { this.hide() });\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n    }\r\n\r\n    public hide() {\r\n        toast.hideToast(this.toast, this);\r\n    }\r\n\r\n}","import screen from \"./screen\";\r\n\r\nlet _bgSprite: Laya.Sprite = null;\r\nlet _bgImage: Laya.Image = null;\r\nlet _bgSkin = null;\r\nlet _bgSizeGrid = null;\r\n\r\nfunction _drawSkin() {\r\n    if (_bgImage && _bgSkin) {\r\n        _bgImage.skin = _bgSkin;\r\n    }\r\n    if (_bgImage && _bgSizeGrid) {\r\n        _bgImage.sizeGrid = _bgSizeGrid;\r\n    } else {\r\n        _bgImage.sizeGrid = '';\r\n    }\r\n}\r\n\r\nexport function initBg() {\r\n    _bgSprite = Laya.stage.getChildByName('_tape_bg_layer') as Laya.Sprite;\r\n    if (!_bgSprite) {\r\n        _bgSprite = new Laya.Sprite;\r\n        _bgSprite.name = '_tape_bg_layer';\r\n        Laya.stage.addChild(_bgSprite);\r\n\r\n        _bgImage = new Laya.Image;\r\n        _bgImage.name = '_bg_image';\r\n        _bgSprite.addChild(_bgImage);\r\n    }\r\n\r\n    _bgSprite.width = screen.getWidth();\r\n    _bgSprite.height = screen.getHeight();\r\n\r\n    _bgImage.width = screen.getWidth();\r\n    _bgImage.height = screen.getHeight();\r\n\r\n    _drawSkin();\r\n}\r\n\r\nfunction setBgColor(color) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    _bgSprite.graphics.drawRect(0, 0, _bgSprite.width, _bgSprite.height, color);\r\n}\r\n\r\nfunction setBgSkin(url, sizeGrid = null) {\r\n    _bgSkin = url;\r\n    _bgSizeGrid = sizeGrid;\r\n    _drawSkin();\r\n}\r\n\r\nfunction setBgTexture(url) {\r\n    if (!_bgSprite) {\r\n        return;\r\n    }\r\n    _bgSprite.graphics.clear();\r\n    Laya.loader.load(url, Laya.Handler.create(this, (texture) => {\r\n        try {\r\n            _bgSprite.graphics.fillTexture(texture, 0, 0, _bgSprite.width, _bgSprite.height, 'repeat');\r\n        } catch (error) {\r\n        }\r\n    }));\r\n}\r\n\r\nfunction getBgSprite() {\r\n    return _bgSprite;\r\n}\r\n\r\nexport default {\r\n    setBgSkin,\r\n    setBgColor,\r\n    setBgTexture,\r\n    getBgSprite,\r\n}","import UIMgr from \"../manager/uimgr\";\r\nimport Activity from \"../display/activity\";\r\nimport { onNavigatorReady } from \"./init\";\r\n\r\nexport default class extends Laya.Component {\r\n\r\n    private _options = null;\r\n    private _activity: Activity = null;\r\n    private _isShow = false;\r\n    private _isFocus = false;\r\n\r\n    constructor(options) {\r\n        super();\r\n        this.visible = false;\r\n        this._options = options;\r\n        let res = this._options.page.res;\r\n        if (res && res.length > 0) {\r\n            Laya.loader.load(res, Laya.Handler.create(this, () => {\r\n                this._newActivity();\r\n                this._onLoaded();\r\n            }), Laya.Handler.create(this, (progress) => {\r\n                this._onLoadProgress(progress);\r\n            }, null, false));\r\n        } else {\r\n            this._newActivity();\r\n            this._onLoaded();\r\n        }\r\n    }\r\n\r\n    _newActivity() {\r\n        if (this._activity) {\r\n            return;\r\n        }\r\n        this._activity = new this._options.page({\r\n            page: this._options.page,\r\n            params: this._options.params\r\n        });\r\n    }\r\n\r\n    _onLoaded() {\r\n        onNavigatorReady().then(() => {\r\n            this._options.onLoaded && this._options.onLoaded(this);\r\n            this.addChild(this._activity);\r\n            this._activity.onCreate && this._activity.onCreate();\r\n            this._options.onShow && this._options.onShow();\r\n        });\r\n    }\r\n\r\n    _onLoadProgress(progress) {\r\n        this._options.onLoadProgress && this._options.onLoadProgress(this, progress);\r\n    }\r\n\r\n    nextProgress(progress) {\r\n        this._activity.onNextProgress && this._activity.onNextProgress(progress);\r\n    }\r\n\r\n    filter(page, activity) {\r\n        if (page === this._options.page) {\r\n            return !activity || activity === this._activity;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    show(anim, callback) {\r\n        if (this.visible) {\r\n            return;\r\n        }\r\n        if (this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = true;\r\n        var easeIn = this._activity.easeIn || Laya.Ease.linearIn;\r\n        var duration = this._activity.duration || 0;\r\n        var fromProps = this._activity.fromProps || {};\r\n        var toProps = this._activity.toProps || {};\r\n        if (anim && easeIn && duration > 0) {\r\n            Object.assign(this, fromProps);\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            Laya.Tween.to(this, toProps, duration, easeIn, Laya.Handler.create(this, () => {\r\n                callback && callback();\r\n            }));\r\n        } else {\r\n            this._activity.onResume && this._activity.onResume();\r\n            this.visible = true;\r\n            callback && callback();\r\n        }\r\n        UIMgr.checkFocus();\r\n    }\r\n\r\n    hide() {\r\n        if (!this.visible) {\r\n            return;\r\n        }\r\n        if (!this._isShow) {\r\n            return;\r\n        }\r\n        this._isShow = false;\r\n        this._activity.onPause && this._activity.onPause();\r\n        this.visible = false;\r\n        this.focus(false);\r\n    }\r\n\r\n    exit() {\r\n        this._activity.onDestroy && this._activity.onDestroy();\r\n        this.destroy();\r\n    }\r\n\r\n    focus(focus) {\r\n        if (this._isFocus === focus) {\r\n            return;\r\n        }\r\n        this._isFocus = focus;\r\n        this._activity.onFocus && this._activity.onFocus(focus);\r\n    }\r\n\r\n}","import UIMgr from \"../manager/uimgr\";\r\n\r\nlet _popups = {};\r\nlet _fromProps = { alpha: 0 }\r\nlet _toProps = { alpha: 1 }\r\n\r\nfunction _showPopupAnim(popupView, cb) {\r\n    let from = popupView.fromProps || _fromProps || {};\r\n    let to = popupView.toProps || _toProps || {};\r\n    let easeIn = popupView.easeIn || Laya.Ease.linearIn;\r\n    let duration = popupView.duration || 500;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeIn, Laya.Handler.create(this, () => {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\n\r\nfunction _hidePopupAnim(popupView, cb) {\r\n    let from = popupView.toProps || _toProps || {};\r\n    let to = popupView.fromProps || _fromProps || {};\r\n    let easeOut = popupView.easeOut || Laya.Ease.linearOut;\r\n    let duration = popupView.duration || 500;\r\n    Object.assign(popupView, from);\r\n    Laya.Tween.to(popupView, to, duration, easeOut, Laya.Handler.create(this, () => {\r\n        cb && cb(popupView);\r\n    }));\r\n}\r\n\r\nfunction _hidePopup(view, result) {\r\n    _hidePopupAnim(view, () => {\r\n        view._onHide && view._onHide(view.popup, result);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide(view.popup, result);\r\n        view.removeSelf && view.removeSelf();\r\n        view.destroy && view.destroy();\r\n        UIMgr.checkFocus();\r\n    });\r\n}\r\n\r\nfunction _showPopup(view) {\r\n    _showPopupAnim(view, () => {\r\n        view.isShow = true;\r\n    });\r\n}\r\n\r\nfunction setDefaultAnim(fromProps, toProps) {\r\n    _fromProps = fromProps;\r\n    _toProps = toProps;\r\n}\r\n\r\nfunction showPopup(popup, params = null, onHide = null) {\r\n    let views = _popups[popup];\r\n    let view = new popup();\r\n    view.popup = popup;\r\n    view.params = params || {};\r\n    view._onHide = onHide;\r\n    if (views) {\r\n        views.push(view);\r\n    } else {\r\n        _popups[popup] = [view];\r\n    }\r\n    UIMgr.addViewToMainLayer(view);\r\n    view.onShow && view.onShow();\r\n    _showPopup(view);\r\n}\r\n\r\nfunction hidePopup(popup, view = null, result = null) {\r\n    var views = _popups[popup];\r\n    if (view) {\r\n        let index = views ? views.indexOf(view) : -1;\r\n        if (index < 0) {\r\n            return;\r\n        }\r\n        views.splice(index, 1);\r\n        _hidePopup(view, result);\r\n    } else {\r\n        views && views.splice(0, views.length).forEach(v => {\r\n            _hidePopup(v, result);\r\n        });\r\n    }\r\n}\r\n\r\nexport default {\r\n    setDefaultAnim,\r\n    showPopup,\r\n    hidePopup\r\n}","import UIMgr from \"../manager/uimgr\";\r\n\r\nlet _toasts: { [key: string]: any[] } = {};\r\n\r\nfunction _pushToast(toast, view) {\r\n    if (_toasts[toast]) {\r\n        _toasts[toast].push(view);\r\n    } else {\r\n        _toasts[toast] = [view];\r\n    }\r\n}\r\n\r\nfunction _popToast(toast, view) {\r\n    if (!_toasts[toast]) {\r\n        return [];\r\n    }\r\n    if (view && _toasts[toast].length > 1) {\r\n        _toasts[toast].splice(_toasts[toast].indexOf(view), 1);\r\n        return [view];\r\n    } else {\r\n        let views = _toasts[toast] || [];\r\n        delete _toasts[toast];\r\n        return views;\r\n    }\r\n}\r\n\r\nfunction showToast(toast, params = null, onHide = null) {\r\n    var view = new toast;\r\n    view._on_hide = onHide;\r\n    view.toast = toast;\r\n    view.params = params || {};\r\n    view.onShow && view.onShow();\r\n    let from = view.fromProps || { alpha: 0 };\r\n    let to = view.toProps || { alpha: 1 };\r\n    let easeIn = view.easeIn || Laya.Ease.linearIn;\r\n    let easeOut = view.easeOut || Laya.Ease.linearOut;\r\n    let duration = view.duration;\r\n    let displayDuration = view.displayDuration;\r\n    Object.assign(view, from);\r\n    Laya.Tween.to(view, to, duration, easeIn, Laya.Handler.create(this, () => {\r\n        view.isShow = true;\r\n    }), 0);\r\n    if (displayDuration != -1) {\r\n        Laya.Tween.to(view, from, duration, easeOut, Laya.Handler.create(this, () => {\r\n            if (view) {\r\n                _popToast(toast, view);\r\n                view._on_hide && view._on_hide(view.toast);\r\n                view.isShow = false;\r\n                view.onHide && view.onHide();\r\n                view.destroy();\r\n            }\r\n        }), displayDuration + duration);\r\n    }\r\n    _pushToast(toast, view);\r\n    UIMgr.addViewTopLayer(view);\r\n}\r\n\r\nfunction hideToast(toast, view = null) {\r\n    let list = _popToast(toast, view);\r\n    list.forEach(view => {\r\n        view._on_hide && view._on_hide(view.toast);\r\n        view.isShow = false;\r\n        view.onHide && view.onHide();\r\n        view.destroy();\r\n    });\r\n}\r\n\r\nexport default {\r\n    showToast,\r\n    hideToast,\r\n}","import popup from \"./popupmanager\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class PopupView extends ui {\r\n\r\n    static show(params, onHide) {\r\n        popup.showPopup(this, params, onHide);\r\n    }\r\n\r\n    static hide(result) {\r\n        popup.hidePopup(this, null, result);\r\n    }\r\n\r\n    public popup;\r\n    public params;\r\n    public duration = 500;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n    public onShow?(): void;\r\n    public onHide?(): void;\r\n    public isTranslucent = false;\r\n    public canceledOnTouchOutside = false;\r\n\r\n    public hide(result = null) {\r\n        popup.hidePopup(this.popup, this, result);\r\n    }\r\n\r\n    constructor() {\r\n        super(() => {\r\n            this.hide();\r\n        });\r\n        this.nonPenetrating = true;\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n    }\r\n\r\n}","import bg from \"./bg\";\r\nimport icon from \"./icon\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport class TipsView extends Laya.Sprite {\r\n\r\n    private _maxWidth = 0;\r\n    private _minWidth = 0;\r\n    private _padding = 0;\r\n    private _fontSize = 0;\r\n    private _radius = 0;\r\n    private _bgView = null;\r\n    private _iconView: icon = null;\r\n    private _iconSize = 0;\r\n    private _titleView = null;\r\n\r\n    constructor() {\r\n        super();\r\n        let size = Math.min(screen.getDesignWidth(), screen.getDesignHeight());\r\n        this._maxWidth = size * 0.6;\r\n        this._minWidth = size * 0.4;\r\n        this._iconSize = size * 0.15;\r\n        this._padding = size * 0.08;\r\n        this._fontSize = size * 0.06;\r\n        this._radius = 0;\r\n        this._initBg();\r\n        this._initIcon();\r\n        this._initTitle();\r\n    }\r\n\r\n    private _initBg() {\r\n        this._bgView = new bg();\r\n        this._bgView.name = '_bg';\r\n        this._bgView.alpha = 0.6;\r\n        this._bgView.color = '#333333';\r\n        this._bgView.radius = this._radius;\r\n        this.addChild(this._bgView);\r\n    }\r\n\r\n    private _initIcon() {\r\n        this._iconView = new icon;\r\n        this._iconView.setSize(this._iconSize);\r\n        this._iconView.name = '_icon';\r\n        this.addChild(this._iconView);\r\n    }\r\n\r\n    private _initTitle() {\r\n        this._titleView = new Laya.Label()\r\n        this._titleView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._titleView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._titleView.wordWrap = true;\r\n        this._titleView.name = '_title';\r\n        this._titleView.fontSize = this._fontSize;\r\n        this._titleView.color = '#ffffff';\r\n        this._titleView.x = this._padding;\r\n        this._titleView.y = this._padding;\r\n        this.addChild(this._titleView);\r\n    }\r\n\r\n    public setContent(title, icon) {\r\n        let titleY = 0;\r\n        let bgH = 0;\r\n\r\n        if (icon && icon != 'none') {\r\n            this._iconView.y = this._padding + this._iconView.height / 2;\r\n            this._iconView.visible = true;\r\n            this._iconView.setSize(this._iconSize);\r\n            this._iconView.setIcon(icon);\r\n            titleY = this._iconSize + this._padding * 5 / 4;\r\n            bgH = this._iconSize + 2 * this._padding;\r\n        } else {\r\n            this._iconView.visible = false;\r\n            titleY = this._padding;\r\n        }\r\n\r\n        if (title) {\r\n            this._titleView.width = undefined;\r\n            this._titleView.visible = true;\r\n            this._titleView.text = title;\r\n            if (this._titleView.width > this._maxWidth) {\r\n                this._titleView.width = this._maxWidth;\r\n            } else if (this._titleView.width < this._minWidth) {\r\n                this._titleView.width = this._minWidth;\r\n            }\r\n            this._titleView.y = titleY;\r\n            bgH = this._titleView.height + this._titleView.y + this._padding;\r\n        } else {\r\n            this._titleView.visible = false;\r\n        }\r\n\r\n        this._bgView.height = bgH;\r\n        this._bgView.width = Math.max(this._titleView.width, this._iconView.width) + 2 * this._padding;\r\n\r\n        this._bgView.callDraw();\r\n\r\n        this._iconView.x = this._bgView.width / 2;\r\n\r\n        this.x = (screen.getDesignWidth() - this._bgView.width) / 2;\r\n        this.y = (screen.getDesignHeight() - this._bgView.height) / 2;\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n","export default class extends Laya.Sprite {\r\n\r\n    public radius = 0;\r\n    public color = '#ff0000';\r\n\r\n    public callDraw() {\r\n        this.graphics.clear();\r\n        if (this.radius <= 0) {\r\n            this.graphics.drawRect(0, 0, this.width, this.height, this.color);\r\n        } else {\r\n            let realRadius = this.radius;\r\n            if (realRadius * 4 > this.width || realRadius * 4 > this.height) {\r\n                realRadius = Math.min(this.width / 4, this.height / 4);\r\n            }\r\n            this.graphics.drawPath(0, 0, [\r\n                [\"moveTo\", realRadius, 0],\r\n                [\"lineTo\", this.width - realRadius, 0],\r\n                [\"arcTo\", this.width, 0, this.width, realRadius, realRadius],\r\n                [\"lineTo\", this.width, this.height - realRadius],\r\n                [\"arcTo\", this.width, this.height, this.width - realRadius, this.height, realRadius],\r\n                [\"lineTo\", realRadius, this.height],\r\n                [\"arcTo\", 0, this.height, 0, this.height - realRadius, realRadius],\r\n                [\"lineTo\", 0, realRadius],\r\n                [\"arcTo\", 0, 0, realRadius, 0, realRadius],\r\n                [\"closePath\"]\r\n            ], { fillStyle: this.color });\r\n        }\r\n    }\r\n}","import \"./polyfill\";\r\nimport bg from \"./services/manager/bg\";\r\nimport screen from \"./services/manager/screen\";\r\nimport audio from './services/audio';\r\nimport env from \"./utils/env\";\r\n\r\nimport ad from './services/platform/ad';\r\nimport app from './services/platform/app';\r\nimport rank from './services/platform/rank';\r\nimport other from './services/other';\r\nimport runtime from \"./services/runtime\";\r\n\r\nimport utils from './services/utils';\r\nimport navigator from \"./services/navigator/stack\";\r\nimport popup from \"./services/display/popupmanager\";\r\nimport toast from \"./services/display/toastmanager\";\r\n\r\nimport Activity from \"./services/display/activity\";\r\nimport PopupView from \"./services/display/popupview\";\r\nimport ToastView from \"./services/display/toastview\";\r\n\r\nimport { init, init3D, start, exit } from './services/platform/init';\r\nimport {\r\n    showLoading,\r\n    hideLoading,\r\n    showModal,\r\n    showToast,\r\n    hideToast,\r\n    vibrateLong,\r\n    vibrateShort,\r\n} from './services/comp';\r\n\r\nconst Tape = {\r\n\r\n    init,\r\n    init3D,\r\n    start,\r\n    exit,\r\n\r\n    // interactive\r\n    showLoading,\r\n    hideLoading,\r\n    showModal,\r\n    showToast,\r\n    hideToast,\r\n    vibrateShort,\r\n    vibrateLong,\r\n\r\n    bg,\r\n    screen,\r\n    audio,\r\n    env,\r\n\r\n    ad,\r\n    app,\r\n    rank,\r\n    other,\r\n    runtime,\r\n\r\n    utils,\r\n\r\n    navigator,\r\n    popup,\r\n    toast,\r\n\r\n    Activity,\r\n    PopupView,\r\n    ToastView,\r\n}\r\n\r\nif (typeof window !== \"undefined\") {\r\n    (window as any).Tape = Tape;\r\n    // (window as any).runtime = runtime;\r\n}\r\n\r\nexport = {\r\n    Tape\r\n}\r\n","if (typeof Object.assign != 'function') {\r\n    // Must be writable: true, enumerable: false, configurable: true\r\n    Object.defineProperty(Object, \"assign\", {\r\n      value: function assign(target, varArgs) { // .length of function is 2\r\n        'use strict';\r\n        if (target == null) { // TypeError if undefined or null\r\n          throw new TypeError('Cannot convert undefined or null to object');\r\n        }\r\n  \r\n        var to = Object(target);\r\n  \r\n        for (var index = 1; index < arguments.length; index++) {\r\n          var nextSource = arguments[index];\r\n  \r\n          if (nextSource != null) { // Skip over if undefined or null\r\n            for (var nextKey in nextSource) {\r\n              // Avoid bugs when hasOwnProperty is shadowed\r\n              if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                to[nextKey] = nextSource[nextKey];\r\n              }\r\n            }\r\n          }\r\n        }\r\n        return to;\r\n      },\r\n      writable: true,\r\n      configurable: true\r\n    });\r\n  }","import env from \"../utils/env\";\r\nimport loop from \"../utils/looper\";\r\n\r\nfunction fixWechatAudioPlay(callback: Function) {\r\n    if (window && window['WeixinJSBridge']) {\r\n        try {\r\n            window['WeixinJSBridge'].invoke(\"getNetworkType\", {}, () => {\r\n                callback && callback();\r\n            });\r\n        } catch (e) {\r\n            callback && callback();\r\n        }\r\n    } else {\r\n        callback && callback();\r\n    }\r\n}\r\n\r\nfunction fixAudioExtension(targetUrl, replaceExt) {\r\n    let ext = Laya.Utils.getFileExtension(targetUrl);\r\n    let searchExt = !!ext ? `.${ext}` : '';\r\n    if (env.isConchApp() && searchExt != \".wav\" && searchExt != \".ogg\") {\r\n        return targetUrl.substr(0, targetUrl.length - searchExt.length) + replaceExt;\r\n    }\r\n    return targetUrl;\r\n}\r\n\r\nclass AudioController {\r\n\r\n    private _auidoUrl = '';\r\n    private _chancel: Laya.SoundChannel = null;\r\n    private _playing = false;\r\n    private _onPlay = null;\r\n    private _onPause = null;\r\n    private _onStop = null;\r\n    private _onError = null;\r\n    private _onProgress = null;\r\n    private _onComplete = null;\r\n    private _position = -1;\r\n    private _duration = -1;\r\n    private _paused = false;\r\n    private _type = 'sound';\r\n    private _playTime = 0;\r\n\r\n    constructor(type) {\r\n        this._type = type;\r\n    }\r\n\r\n    private _update() {\r\n        if (this._chancel) {\r\n            this._position = this._chancel.position;\r\n            this._duration = this._chancel.duration;\r\n            if (!this._playing && this._position > 0) {\r\n                this._playing = true;\r\n                this._onPlay && this._onPlay();\r\n            }\r\n            if (this._playing && this._duration > 0) {\r\n                this._onProgress && this._onProgress({\r\n                    position: this.position,\r\n                    duration: this.duration,\r\n                });\r\n            } else if (Date.now() - this._playTime > 2000) {\r\n                this._onError && this._onError();\r\n                this.stop();\r\n            }\r\n        }\r\n    }\r\n\r\n    public onPlay(callback) {\r\n        this._onPlay = callback;\r\n    }\r\n\r\n    public onStop(callback) {\r\n        this._onStop = callback;\r\n    }\r\n\r\n    public onPause(callback) {\r\n        this._onPause = callback;\r\n    }\r\n\r\n    public onProgress(callback) {\r\n        this._onProgress = callback;\r\n    }\r\n\r\n    public onComplete(callback) {\r\n        this._onComplete = callback;\r\n    }\r\n\r\n    public onError(callback) {\r\n        this._onError = callback;\r\n    }\r\n\r\n    public set url(url) {\r\n        if (this._auidoUrl != url) {\r\n            this._auidoUrl = url;\r\n            this.stop();\r\n        }\r\n    }\r\n\r\n    public get url() {\r\n        return this._auidoUrl;\r\n    }\r\n\r\n    public get type() {\r\n        return this._type;\r\n    }\r\n\r\n    public get position() {\r\n        return this._position;\r\n    }\r\n\r\n    public get duration() {\r\n        return this._duration;\r\n    }\r\n\r\n    public isPaused() {\r\n        return this._paused;\r\n    }\r\n\r\n    public isPlaying() {\r\n        return this._playing;\r\n    }\r\n\r\n    public play(loops: number = 1) {\r\n        fixWechatAudioPlay(() => {\r\n            if (this._auidoUrl) {\r\n                this.stop();\r\n                let playUrl = fixAudioExtension(this._auidoUrl, '.ogg');\r\n                this._playTime = Date.now();\r\n                this._chancel = Laya.SoundManager.playSound(playUrl, loops, Laya.Handler.create(this, () => {\r\n                    this._onComplete && this._onComplete();\r\n                    this.stop();\r\n                }), null, 0);\r\n                loop.loop(this, this._update);\r\n            }\r\n        });\r\n    }\r\n\r\n    public pause() {\r\n        if (this._chancel && this._playing) {\r\n            this._onPause && this._onPause();\r\n            this._chancel.pause();\r\n            this._paused = true;\r\n            this._playing = false;\r\n            loop.clear(this, this._update);\r\n        }\r\n    }\r\n\r\n    public resume() {\r\n        if (this._chancel && this._paused) {\r\n            this._paused = false;\r\n            this._chancel.resume();\r\n            loop.loop(this, this._update);\r\n        }\r\n    }\r\n\r\n    public stop() {\r\n        if (this._chancel) {\r\n            this._onStop && this._onStop();\r\n            this._chancel.stop();\r\n            this._chancel = null;\r\n            this._paused = false;\r\n            this._playing = false;\r\n            Laya.SoundManager.removeChannel(this._chancel);\r\n            Laya.SoundManager.destroySound(this._auidoUrl);\r\n            loop.clear(this, this._update);\r\n        }\r\n    }\r\n\r\n    public destroy() {\r\n        this.stop();\r\n        this._onComplete = null;\r\n        this._onProgress = null;\r\n        this._onPlay = null;\r\n        this._onStop = null;\r\n        this._onPause = null;\r\n    }\r\n\r\n}\r\n\r\nlet _musicAudio = new AudioController('music')\r\n\r\nfunction playMusic(url: string, loops: number = 1) {\r\n    _musicAudio.url = url;\r\n    _musicAudio.play(loops);\r\n    return _musicAudio;\r\n}\r\n\r\nfunction playSound(url: string, loops: number = 1) {\r\n    let audio = new AudioController('sound');\r\n    audio.url = url;\r\n    audio.play(loops);\r\n    return audio;\r\n}\r\n\r\nfunction stopMusic() {\r\n    _musicAudio.stop();\r\n}\r\n\r\nfunction stopAll() {\r\n    Laya.SoundManager.stopAll();\r\n}\r\n\r\nfunction stopAllSound() {\r\n    Laya.SoundManager.stopAllSound();\r\n}\r\n\r\nexport default {\r\n    playMusic,\r\n    playSound,\r\n    stopAll,\r\n    stopMusic,\r\n    stopAllSound,\r\n}","function removeItemForWhere(array, where) {\r\n    if (typeof where === 'function') {\r\n        let removeIndexArray = []\r\n        array.forEach((value, index) => {\r\n            if (where(value)) {\r\n                removeIndexArray.push(index)\r\n            }\r\n        })\r\n        removeIndexArray.reverse()\r\n        removeIndexArray.forEach(index => {\r\n            array.splice(index, 1);\r\n        })\r\n    }\r\n}\r\n\r\nclass Looper {\r\n\r\n    private _tasks = [];\r\n    private _hasLoop = false;\r\n\r\n    private _checkLoop() {\r\n        if (this._tasks.length > 0) {\r\n            if (!this._hasLoop) {\r\n                Laya.timer.frameLoop(1, this, () => {\r\n                    this._tasks.forEach(task => {\r\n                        let { caller, callback } = task;\r\n                        callback.apply(caller);\r\n                    });\r\n                });\r\n                this._hasLoop = true;\r\n            }\r\n        } else {\r\n            if (this._hasLoop) {\r\n                Laya.timer.clearAll(this);\r\n                this._hasLoop = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    public loop(caller: Object, callback: () => void) {\r\n        let filterTasks = this._tasks.filter((task) => {\r\n            return task.caller == caller && task.callback == callback;\r\n        })\r\n        if (filterTasks.length == 0) {\r\n            this._tasks.push({\r\n                caller,\r\n                callback,\r\n            });\r\n            this._checkLoop();\r\n        }\r\n    }\r\n\r\n    public clear(caller: Object, callback: () => void) {\r\n        removeItemForWhere(this._tasks, (task) => {\r\n            return task.caller == caller && (!callback || task.callback == callback);\r\n        });\r\n        this._checkLoop();\r\n    }\r\n\r\n}\r\n\r\nexport default new Looper;","import env from \"../../utils/env\";\r\nimport ad_fb from \"./ad/ad_fb\";\r\nimport ad_qq from \"./ad/ad_qq\";\r\nimport ad_wx from \"./ad/ad_wx\";\r\nimport ad_bd from \"./ad/ad_bd\";\r\nimport ad_br from \"./ad/ad_br\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return ad_fb;\r\n    } else if (env.isQQApp()) {\r\n        return ad_qq;\r\n    } else if (env.isWechatApp()) {\r\n        return ad_wx;\r\n    } else if (env.isBaiduApp()) {\r\n        return ad_bd;\r\n    } else {\r\n        return ad_br;\r\n    }\r\n}\r\n\r\nexport default _get();","import env from \"../../../utils/env\";\r\nimport { IAd } from \"../_inters\";\r\n\r\nclass Ad implements IAd {\r\n\r\n    private _rewardedAdId = '';\r\n    private _rewardedVideoAd = null;\r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return true;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n        if (platform == env.getPlatform()) {\r\n            this._rewardedAdId = adId;\r\n        }\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, _onCancal?: () => void, onError?: (error: any) => void) {\r\n        env.execFB('getRewardedVideoAsync', this._rewardedAdId).then((ad) => {\r\n            this._rewardedVideoAd = ad;\r\n            return this._rewardedVideoAd.loadAsync();\r\n        }).catch((err) => {\r\n            onError && onError(err.message || 'load rewarded video fail');\r\n            throw err;\r\n        }).then(() => {\r\n            return this._rewardedVideoAd.showAsync().then(() => {\r\n                onWatch && onWatch();\r\n            }).catch((err) => {\r\n                onError && onError(err.message || 'show rewarded video fail');\r\n            });\r\n        });\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, width: number, height: number, onError?: (error: any) => void) {\r\n        // do nothing\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;","import { IAd } from \"../_inters\";\r\n\r\nclass Ad implements IAd {\r\n\r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return false;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd(){\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        onError && onError('not support rewardedVideo ad')\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, w: number, h: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IAd } from \"../_inters\";\r\nimport { fixWidthForWechat, fixHeightForWechat } from \"../_size\";\r\n\r\nclass Ad implements IAd {\r\n\r\n    private _bannerAdId = '';\r\n    private _bannerAd = null;\r\n    private _rewardedAdId = '';\r\n    private _rewardedVideoAd = null;\r\n    private _rewardedVideoOnClose = null;\r\n    private _rewardedVideoOnError = null;\r\n    private _preloadRewardedVideo = false;\r\n    private _emptyOnError = () => { };\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return true;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n        if (platform == env.getPlatform()) {\r\n            this._rewardedAdId = adId;\r\n            this._rewardedVideoAd = env.execWX('createRewardedVideoAd', {\r\n                adUnitId: this._rewardedAdId\r\n            });\r\n            if (this._rewardedVideoAd) {\r\n                try {\r\n                    this._rewardedVideoAd.offError(this._emptyOnError);\r\n                } catch (error) {\r\n                }\r\n                this._rewardedVideoAd.onError(this._emptyOnError);\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n        }\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        if (this._rewardedVideoAd) {\r\n            try {\r\n                this._rewardedVideoOnClose && this._rewardedVideoAd.offClose(this._rewardedVideoOnClose);\r\n            } catch (error) {\r\n            }\r\n            try {\r\n                this._rewardedVideoOnError && this._rewardedVideoAd.offError(this._rewardedVideoOnError);\r\n            } catch (error) {\r\n            }\r\n            this._rewardedVideoOnClose = (res) => {\r\n                if (res && res.isEnded || res === undefined) {\r\n                    onWatch && onWatch();\r\n                } else {\r\n                    onCancal && onCancal();\r\n                }\r\n                this._rewardedVideoAd.load().then(() => { this._preloadRewardedVideo = true; });\r\n            }\r\n            this._rewardedVideoOnError = (err) => {\r\n                onError && onError(err && err.errMsg || 'watchRewardedVideoAd:fail');\r\n            }\r\n            this._rewardedVideoAd.onClose(this._rewardedVideoOnClose);\r\n            this._rewardedVideoAd.onError(this._rewardedVideoOnError);\r\n            this._rewardedVideoAd.show().then(() => { this._preloadRewardedVideo = false; }).catch(() => {\r\n                this._rewardedVideoAd.load().then(() => this._rewardedVideoAd.show()).catch(() => { });\r\n            });\r\n        } else {\r\n            onError && onError('createRewardedVideoAd:fail')\r\n        }\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return true;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        if (platform == env.getPlatform()) {\r\n            this._bannerAdId = adId;\r\n        }\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, width: number, height: number, onError?: (error: any) => void) {\r\n        try {\r\n            this.hideBannerAd();\r\n            let realLeft = fixWidthForWechat(x + screen.getOffestX());\r\n            let realTop = fixHeightForWechat(y + screen.getOffestY());\r\n            let realWidth = fixWidthForWechat(width);\r\n            let realHeight = fixHeightForWechat(height);\r\n            if (realWidth < 300) {\r\n                realWidth = 300;\r\n            }\r\n            this._bannerAd = env.execWX('createBannerAd', {\r\n                adUnitId: this._bannerAdId,\r\n                style: {\r\n                    left: realLeft,\r\n                    top: realTop,\r\n                    width: realWidth,\r\n                    height: realHeight\r\n                }\r\n            });\r\n            if (this._bannerAd) {\r\n                this._bannerAd.style.left = realLeft;\r\n                this._bannerAd.style.top = realTop;\r\n                this._bannerAd.style.width = realWidth;\r\n                this._bannerAd.style.height = realHeight;\r\n                this._bannerAd.onResize(res => {\r\n                    if (this._bannerAd) {\r\n                        let configZ = realWidth / realHeight;\r\n                        let newZ = res.width / res.height;\r\n                        let newL = realLeft;\r\n                        let newT = realTop;\r\n                        let newW = realWidth;\r\n                        let newH = realHeight;\r\n                        if (configZ < newZ) {\r\n                            newH = realWidth / newZ;\r\n                        } else {\r\n                            newW = realHeight * newZ;\r\n                        }\r\n                        if (newW < 300) {\r\n                            newW = 300;\r\n                        }\r\n                        newL = realLeft + ((realWidth - newW) / 2);\r\n                        this._bannerAd.style.left = newL;\r\n                        this._bannerAd.style.top = newT;\r\n                        this._bannerAd.style.width = newW;\r\n                        this._bannerAd.style.height = newH;\r\n                    }\r\n                });\r\n                this._bannerAd.onError(err => {\r\n                    onError && onError(err && err.errMsg || 'showBannerAd:fail');\r\n                });\r\n                this._bannerAd.show();\r\n            } else {\r\n                onError && onError('createBannerAd:fail')\r\n            }\r\n        } catch (error) {\r\n            onError && onError('showBannerAd:fail')\r\n        }\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        try {\r\n            if (this._bannerAd && this._bannerAd.destroy) {\r\n                this._bannerAd.destroy();\r\n            }\r\n            this._bannerAd = null;\r\n        } catch (error) {\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;\r\n","import { IAd } from \"../_inters\";\r\n\r\nclass Ad implements IAd {\r\n\r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return false;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd() {\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        onError && onError('not support rewardedVideo ad')\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, w: number, h: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;\r\n","import { IAd } from \"../_inters\";\r\n\r\nclass Ad implements IAd {\r\n    \r\n    private _preloadRewardedVideo = false;\r\n\r\n    public isSupportedRewardedVideoAd() {\r\n        return false;\r\n    }\r\n\r\n    public isPreloadRewardedVideoAd(){\r\n        return this._preloadRewardedVideo;\r\n    }\r\n\r\n    public configRewardedVideoAd(platform: string, adId: string) {\r\n    }\r\n\r\n    public watchRewardedVideoAd(onWatch?: () => void, onCancal?: () => void, onError?: (error: any) => void) {\r\n        onError && onError('not support rewardedVideo ad')\r\n    }\r\n\r\n    public isSupportedBannerAd() {\r\n        return false;\r\n    }\r\n\r\n    public configBannerAd(platform: string, adId: string) {\r\n        // do nothing\r\n    }\r\n\r\n    public showBannerAd(x: number, y: number, w: number, h: number, onError?: (error: any) => void) {\r\n        onError && onError('not support banner ad')\r\n    }\r\n\r\n    public hideBannerAd() {\r\n        // do nothing\r\n    }\r\n\r\n}\r\n\r\nexport default new Ad;","import env from \"../../utils/env\";\r\nimport app_fb from \"./app/app_fb\";\r\nimport app_qq from \"./app/app_qq\";\r\nimport app_wx from \"./app/app_wx\";\r\nimport app_bd from \"./app/app_bd\";\r\nimport app_br from \"./app/app_br\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return app_fb;\r\n    } else if (env.isQQApp()) {\r\n        return app_qq;\r\n    } else if (env.isWechatApp()) {\r\n        return app_wx;\r\n    } else if (env.isBaiduApp()) {\r\n        return app_bd;\r\n    } else {\r\n        return app_br;\r\n    }\r\n}\r\n\r\nexport default _get();\r\n","import env from \"../../../utils/env\";\r\nimport { IApp } from \"../_inters\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _launchCallback = null;\r\n    private _pauseCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isFacebookApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execFB('onPause', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execFB('setSessionData', { message: 'start game' })\r\n        env.execFB('player.canSubscribeBotAsync').then(can_subscribe => {\r\n            if (can_subscribe) {\r\n                env.execFB('player.subscribeBotAsync');\r\n                env.printDebug('can subscribe bot');\r\n            } else {\r\n                env.printDebug('not can subscribe bot');\r\n            }\r\n        });\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        env.execFB('getEntryPointAsync').then(scene => {\r\n            let query = env.execFB('getEntryPointData') || {};\r\n            this._launchCallback && this._launchCallback({\r\n                scene: `${scene}`,\r\n                query,\r\n                platform: env.getPlatform()\r\n            });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: env.getPlatform(),\r\n            nickname: env.execFB('player.getName'),\r\n            avatarUrl: env.execFB('player.getPhoto'),\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: env.execFB('getLocale'),\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env from \"../../../utils/env\";\r\nimport { IApp } from \"../_inters\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isQQApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execQQ('onEnterForeground', () => {\r\n            this._launchCallback && this._launchCallback({\r\n                scene: 'other',\r\n                query: {},\r\n                platform: env.getPlatform()\r\n            });\r\n        });\r\n        env.execQQ('onEnterBackground', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        this._launchCallback && this._launchCallback({\r\n            scene: 'other',\r\n            query: {},\r\n            platform: env.getPlatform()\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: env.getPlatform(),\r\n            nickname: '-',\r\n            avatarUrl: '-',\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: '-',\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env from \"../../../utils/env\";\r\nimport { IApp } from \"../_inters\";\r\nimport { fixHeightForWechat, fixWidthForWechat } from \"../_size\";\r\nimport screen from \"../../manager/screen\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n    private _userinfoButton = null;\r\n\r\n    constructor() {\r\n        if (!env.isWechatApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execWX('onHide', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execWX('onShow', (options) => {\r\n            this._launchCallback && this._launchCallback({\r\n                platform: env.getPlatform(),\r\n                scene: `${options.scene || ''}`,\r\n                query: options.query || {},\r\n            });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        let options = env.execWX('getLaunchOptionsSync') || {};\r\n        this._launchCallback && this._launchCallback({\r\n            platform: env.getPlatform(),\r\n            scene: `${options.scene || ''}`,\r\n            query: options.query || {},\r\n        });\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void, options: any = {}) {\r\n        let onHandler = (res) => {\r\n            if (res && res.userInfo) {\r\n                callback && callback({\r\n                    platform: env.getPlatform(),\r\n                    avatarUrl: res.userInfo.avatarUrl,\r\n                    nickname: res.userInfo.nickName,\r\n                    city: res.userInfo.city,\r\n                    country: res.userInfo.country,\r\n                    province: res.userInfo.province,\r\n                    gender: res.userInfo.gender,\r\n                    language: res.userInfo.language,\r\n                    raw: res\r\n                });\r\n            } else {\r\n                callback && callback(null);\r\n            }\r\n        }\r\n        let onHide = () => {\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.style.left = -this._userinfoButton.style.width;\r\n                this._userinfoButton.style.top = -this._userinfoButton.style.height;\r\n                this._userinfoButton.hide();\r\n                this._userinfoButton.destroy();\r\n                this._userinfoButton = null;\r\n            }\r\n        }\r\n        let onFail = () => {\r\n            let x = options.x || 0;\r\n            let y = options.y || 0;\r\n            let w = options.width || screen.getDesignWidth();\r\n            let h = options.height || screen.getDesignHeight();\r\n            let left = fixWidthForWechat(x + screen.getOffestX());\r\n            let top = fixHeightForWechat(y + screen.getOffestY());\r\n            let width = fixWidthForWechat(w);\r\n            let height = fixHeightForWechat(h);\r\n            let imageUrl = options.imageUrl || '';\r\n            if (!this._userinfoButton) {\r\n                this._userinfoButton = env.execWX('createUserInfoButton', {\r\n                    withCredentials: true,\r\n                    type: 'image',\r\n                    image: imageUrl,\r\n                    style: {\r\n                        left,\r\n                        top,\r\n                        width,\r\n                        height,\r\n                    }\r\n                });\r\n            }\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.onTap((res) => {\r\n                    if (res.errMsg.indexOf(':ok') >= 0) {\r\n                        onHide();\r\n                        onHandler(res);\r\n                    }\r\n                });\r\n                this._userinfoButton.show();\r\n            }\r\n        }\r\n        onHide();\r\n        env.execWX('getUserInfo', {\r\n            withCredentials: true,\r\n            success: onHandler,\r\n            fail: onFail\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env from \"../../../utils/env\";\r\nimport { IApp } from \"../_inters\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n    private _userinfoButton = null;\r\n\r\n    constructor() {\r\n        if (!env.isWechatApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        env.execBD('onHide', () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        });\r\n        env.execBD('onShow', (options) => {\r\n            this._launchCallback && this._launchCallback({\r\n                scene: `${options.scene || ''}`,\r\n                query: options.query || {},\r\n                platform: env.getPlatform()\r\n            });\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        let options = env.execBD('getLaunchOptionsSync') || {};\r\n        this._launchCallback && this._launchCallback({\r\n            entry: options.scene || 1000,\r\n            query: options.query || {},\r\n            platform: env.getPlatform()\r\n        });\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void, imageUrl = null) {\r\n        let onHandler = (res) => {\r\n            if (res && res.userInfo) {\r\n                callback && callback({\r\n                    platform: env.getPlatform(),\r\n                    avatarUrl: res.userInfo.avatarUrl,\r\n                    nickname: res.userInfo.nickName,\r\n                    city: res.userInfo.city,\r\n                    country: res.userInfo.country,\r\n                    province: res.userInfo.province,\r\n                    gender: res.userInfo.gender,\r\n                    language: res.userInfo.language,\r\n                    raw: res\r\n                });\r\n            } else {\r\n                callback && callback(null);\r\n            }\r\n        }\r\n        let onHide = () => {\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.style.left = -this._userinfoButton.style.width;\r\n                this._userinfoButton.style.top = -this._userinfoButton.style.height;\r\n                this._userinfoButton.hide();\r\n                this._userinfoButton.destroy();\r\n                this._userinfoButton = null;\r\n            }\r\n        }\r\n        let onFail = () => {\r\n            let systemInfo = env.execBD('getSystemInfoSync');\r\n            if (!systemInfo) {\r\n                onHandler(null);\r\n                return;\r\n            }\r\n            onHide();\r\n            if (!this._userinfoButton) {\r\n                this._userinfoButton = env.execBD('createUserInfoButton', {\r\n                    withCredentials: true,\r\n                    type: 'image',\r\n                    image: imageUrl || 'default_login.png',\r\n                    style: {\r\n                        left: 0,\r\n                        top: 0,\r\n                        width: systemInfo.windowWidth,\r\n                        height: systemInfo.windowHeight,\r\n                    }\r\n                });\r\n            }\r\n            if (this._userinfoButton) {\r\n                this._userinfoButton.onTap((res) => {\r\n                    if (res.errMsg.indexOf(':ok') >= 0) {\r\n                        onHide();\r\n                        onHandler(res);\r\n                    }\r\n                });\r\n                this._userinfoButton.show();\r\n            }\r\n        }\r\n        env.execBD('getUserInfo', {\r\n            withCredentials: true,\r\n            success: onHandler,\r\n            fail: onFail\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env from \"../../../utils/env\";\r\nimport { IApp } from \"../_inters\";\r\n\r\nclass App implements IApp {\r\n\r\n    private _pauseCallback = null;\r\n    private _launchCallback = null;\r\n\r\n    constructor() {\r\n        if (!env.isBrowserApp()) {\r\n            return;\r\n        }\r\n        this._init();\r\n    }\r\n\r\n    private _init() {\r\n        window.onblur = () => {\r\n            this._pauseCallback && this._pauseCallback();\r\n        }\r\n    }\r\n\r\n    private _checkOnLaunch() {\r\n        this._launchCallback && this._launchCallback({\r\n            platform: env.getPlatform(),\r\n            scene: 'other',\r\n            query: {},\r\n        });\r\n    }\r\n\r\n    public onLaunch(callback: (data: object) => void) {\r\n        this._launchCallback = callback;\r\n        this._checkOnLaunch();\r\n    }\r\n\r\n    public onPause(callback: () => void) {\r\n        this._pauseCallback = callback;\r\n    }\r\n\r\n    public getUserInfo(callback: (userinfo) => void) {\r\n        callback && callback({\r\n            platform: env.getPlatform(),\r\n            nickname: '-',\r\n            avatarUrl: '-',\r\n            city: '-',\r\n            country: '-',\r\n            province: '-',\r\n            gender: 0,\r\n            language: '-',\r\n            raw: null,\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new App;","import env from \"../../utils/env\";\r\nimport rank_fb from \"./rank/rank_fb\";\r\nimport rank_qq from \"./rank/rank_qq\";\r\nimport rank_wx from \"./rank/rank_wx\";\r\nimport rank_bd from \"./rank/rank_bd\";\r\nimport rank_br from \"./rank/rank_br\";\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return rank_fb;\r\n    } else if (env.isQQApp()) {\r\n        return rank_qq;\r\n    } else if (env.isWechatApp()) {\r\n        return rank_wx;\r\n    } else if (env.isBaiduApp()) {\r\n        return rank_bd;\r\n    } else {\r\n        return rank_br;\r\n    }\r\n}\r\n\r\nexport default _get();\r\n","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../_inters\";\r\nimport { bindView, setLocationSelf } from \"../../../utils/bind\";\r\nimport { fetchRankDataForFB, setRankScoreForFB } from \"./_rank\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForFB(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankLocationSelf(enable: boolean, offset: number = 0) {\r\n        setLocationSelf(enable, offset);\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForFB(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../_inters\";\r\nimport { bindView, setLocationSelf } from \"../../../utils/bind\";\r\nimport { fetchRankDataForQQ, setRankScoreForQQ } from \"./_rank\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForQQ(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankLocationSelf(enable: boolean, offset: number = 0) {\r\n        setLocationSelf(enable, offset);\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForQQ(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IRank } from \"../_inters\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getDesignWidth(), height = screen.getDesignHeight()) {\r\n        var sharedCanvasView = new Laya.Sprite();\r\n        sharedCanvasView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = Laya.stage.width;\r\n            sharedCanvas.height = Laya.stage.height;\r\n            if (!sharedCanvas.hasOwnProperty('_addReference')) {\r\n                sharedCanvas['_addReference'] = () => {\r\n                };\r\n            }\r\n            var rankTexture = new Laya.Texture(sharedCanvas);\r\n            rankTexture.bitmap.alwaysChange = true;\r\n            var rankSprite = new Laya.Sprite();\r\n            rankSprite.x -= screen.getOffestX();\r\n            rankSprite.y -= screen.getOffestY();\r\n            rankSprite.width = Laya.stage.width;\r\n            rankSprite.height = Laya.stage.height;\r\n            rankSprite.graphics.drawTexture(rankTexture, 0, 0, rankTexture.width, rankTexture.height);\r\n            sharedCanvasView.addChild(rankSprite);\r\n        }\r\n        return sharedCanvasView;\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"setRankKey\",\r\n            data: { key, count, offset }\r\n        });\r\n    }\r\n\r\n    public setRankLocationSelf(enable: boolean, offset: number = 0) {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: 'setRankLocationSelf',\r\n            data: { enable, offset }\r\n        });\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData: string = '') {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: 'setRankScore',\r\n            data: { key, score, extraData }\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"showRank\",\r\n            data: { ui }\r\n        });\r\n    }\r\n\r\n    public hideRank() {\r\n        env.postMessageToWXOpenDataContext({\r\n            action: 'hideRank',\r\n            data: {}\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../_inters\";\r\nimport { bindView, setLocationSelf } from \"../../../utils/bind\";\r\nimport { setRankScoreForBD, fetchRankDataForBD } from \"./_rank\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForBD(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankLocationSelf(enable: boolean, offset: number = 0) {\r\n        setLocationSelf(enable, offset);\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForBD(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import screen from \"../../manager/screen\";\r\nimport { IRank } from \"../_inters\";\r\nimport { bindView, setLocationSelf } from \"../../../utils/bind\";\r\nimport { fetchRankDataForBR, setRankScoreForBR } from \"./_rank\";\r\n\r\nclass Rank implements IRank {\r\n\r\n    private _rankKey: string = null;\r\n    private _rankUi: object | object[] = null;\r\n    private _rankViews: Laya.Sprite[] = [];\r\n    private _rankData = {};\r\n    private _canDraw = true;\r\n    private _count = 100;\r\n    private _offset = 0;\r\n    private _delayObj = null;\r\n\r\n    private _drawRankView() {\r\n        if (!this._rankUi) {\r\n            return;\r\n        }\r\n        let isDestroyeds = [];\r\n        this._rankViews.forEach((rankView, index) => {\r\n            if (!rankView._destroyed) {\r\n                rankView.destroyChildren();\r\n                if (this._rankUi instanceof Array) {\r\n                    this._rankUi.forEach((data) => {\r\n                        var view = Laya.View.createComp(data);\r\n                        if (view) {\r\n                            bindView(view, this._rankData);\r\n                            rankView.addChild(view);\r\n                        }\r\n                    });\r\n                } else {\r\n                    var view = Laya.View.createComp(this._rankUi);\r\n                    if (view) {\r\n                        bindView(view, this._rankData);\r\n                        rankView.addChild(view);\r\n                    }\r\n                }\r\n            } else {\r\n                isDestroyeds.unshift(index);\r\n            }\r\n        });\r\n        isDestroyeds.forEach(index => {\r\n            this._rankViews.splice(index, 1);\r\n        });\r\n    }\r\n\r\n    private _bindRankView() {\r\n        if (!this._rankKey) {\r\n            return;\r\n        }\r\n        if (!this._canDraw) {\r\n            return;\r\n        }\r\n        this._canDraw = false;\r\n        fetchRankDataForBR(this._rankKey, this._count, this._offset, (data) => {\r\n            this._rankData = data;\r\n            this._canDraw = true;\r\n            this._rankViews.forEach((rankView) => {\r\n                for (let index = 0; index < rankView.numChildren; index++) {\r\n                    const element = rankView.getChildAt(index);\r\n                    bindView(element, this._rankData);\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    private _delayBindRankView() {\r\n        if (this._delayObj) {\r\n            return;\r\n        }\r\n        this._delayObj = setTimeout(() => {\r\n            this._delayObj = null;\r\n            this._bindRankView();\r\n        }, 200);\r\n    }\r\n\r\n    public isSupportedRank() {\r\n        return true;\r\n    }\r\n\r\n    public createRankView(x = 0, y = 0, width = screen.getWidth(), height = screen.getHeight()) {\r\n        var rankView = new Laya.Sprite();\r\n        rankView.scrollRect = new Laya.Rectangle(x, y, width, height);\r\n        this._rankViews.push(rankView);\r\n        this._drawRankView();\r\n        this._delayBindRankView();\r\n        return rankView;\r\n    }\r\n\r\n    public setRankLocationSelf(enable: boolean, offset: number = 0) {\r\n        setLocationSelf(enable, offset);\r\n    }\r\n\r\n    public setRankKey(key: string, count: number = 100, offset: number = 0) {\r\n        this._rankKey = key;\r\n        this._count = count;\r\n        this._offset = offset;\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public setRankScore(key: string, score: number, extraData?: string) {\r\n        setRankScoreForBR(key, score, extraData, () => {\r\n            this._delayBindRankView();\r\n        });\r\n    }\r\n\r\n    public showRank(ui: object | object[]) {\r\n        if (!this._rankUi || JSON.stringify(ui) !== JSON.stringify(this._rankUi)) {\r\n            this._rankUi = ui;\r\n            this._drawRankView();\r\n        }\r\n        this._delayBindRankView();\r\n    }\r\n\r\n    public hideRank() {\r\n        this._rankUi = null;\r\n        this._rankViews.forEach(rankView => {\r\n            rankView.destroyChildren();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport default new Rank;","import env from \"../utils/env\";\r\nimport screen from \"./manager/screen\";\r\nimport { fixWidthForWechat, fixHeightForWechat } from \"./platform/_size\";\r\n\r\nlet _clubButton = null;\r\n\r\nfunction isSupportClubButton() {\r\n    if (env.isWechatApp()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction showClubButton(icon: string, x: number, y: number, w: number, h: number) {\r\n    if (!env.isWechatApp()) {\r\n        return;\r\n    }\r\n    try {\r\n        let left = fixWidthForWechat(x + screen.getOffestX());\r\n        let top = fixHeightForWechat(y + screen.getOffestY());\r\n        let width = fixWidthForWechat(w);\r\n        let height = fixHeightForWechat(h);\r\n        let icons = ['green', 'white', 'dark', 'light'];\r\n        hideClubButton();\r\n        if (!_clubButton) {\r\n            _clubButton = env.execWX('createGameClubButton', {\r\n                icon: icons.indexOf(icon) < 0 ? icons[0] : icon,\r\n                style: {\r\n                    left,\r\n                    top,\r\n                    width,\r\n                    height\r\n                }\r\n            });\r\n            if (_clubButton && icons.indexOf(icon) < 0) {\r\n                _clubButton.image = icon;\r\n            }\r\n        }\r\n        if (_clubButton) {\r\n            _clubButton.style.left = left;\r\n            _clubButton.style.top = top;\r\n            _clubButton.style.width = width;\r\n            _clubButton.style.height = height;\r\n            _clubButton.show();\r\n        }\r\n    } catch (error) {\r\n    }\r\n}\r\n\r\nfunction hideClubButton() {\r\n    if (!env.isWechatApp()) {\r\n        return;\r\n    }\r\n    try {\r\n        if (_clubButton) {\r\n            _clubButton.style.left = -_clubButton.style.width;\r\n            _clubButton.style.top = -_clubButton.style.height;\r\n            _clubButton.hide();\r\n            _clubButton.destroy();\r\n            _clubButton = null;\r\n        }\r\n    } catch (error) {\r\n    }\r\n}\r\n\r\nfunction isSupportKefuConversation() {\r\n    if (env.isWechatApp()) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction openKefuConversation(options = null) {\r\n    if (env.isWechatApp()) {\r\n        env.execWX('openCustomerServiceConversation', options);\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    isSupportKefuConversation,\r\n    openKefuConversation,\r\n    isSupportClubButton,\r\n    showClubButton,\r\n    hideClubButton,\r\n}","module runtime {\r\n\r\n    export let clickSound = null;\r\n    export let scaleTime: number = 100;\r\n    export let scaleSmalValue: number = 0.8;\r\n    export let scaleBigValue: number = 1;\r\n\r\n    function pivotCenter(view) {\r\n        view.x = view.x + view.width / 2 - view.pivotX;\r\n        view.y = view.y + view.height / 2 - view.pivotY;\r\n        view.pivot(view.width / 2, view.height / 2);\r\n    }\r\n\r\n    function viewScale(view, scale) {\r\n        pivotCenter(view);\r\n        Laya.Tween.to(view, { scaleX: scale, scaleY: scale }, scaleTime);\r\n    }\r\n\r\n    function playClickSound(sound) {\r\n        if (sound) {\r\n            sound != 'none' && Laya.SoundManager.playSound(sound, 1);\r\n        } else if (clickSound) {\r\n            clickSound != 'none' && Laya.SoundManager.playSound(clickSound, 1);\r\n        }\r\n    }\r\n\r\n    export function bindClick(view) {\r\n        view.offAll();\r\n        view.on(Laya.Event.MOUSE_DOWN, view, () => viewScale(view, scaleSmalValue));\r\n        view.on(Laya.Event.MOUSE_UP, view, () => viewScale(view, scaleBigValue));\r\n        view.on(Laya.Event.MOUSE_OUT, view, () => viewScale(view, scaleBigValue));\r\n        view.on(Laya.Event.CLICK, view, () => playClickSound(view.sound));\r\n    }\r\n\r\n    export class btn extends Laya.Button {\r\n\r\n        public sound = null;\r\n\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_img extends Laya.Image {\r\n\r\n        public sound = null;\r\n\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_label extends Laya.Label {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_sprite extends Laya.Sprite {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n    export class btn_box extends Laya.Box {\r\n\r\n        public sound = null;\r\n        constructor() {\r\n            super();\r\n            bindClick(this);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nexport default runtime;","function randomUUID() {\r\n    let _s4 = () => (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\r\n    return (_s4() + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + \"-\" + _s4() + _s4() + _s4());\r\n}\r\n\r\nfunction randomNumber(minNum: number, maxNum: number) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.random() * minNum + 1;\r\n        case 2:\r\n            return Math.random() * (maxNum - minNum + 1) + minNum;\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction randomInteger(minNum: number, maxNum: number) {\r\n    switch (arguments.length) {\r\n        case 1:\r\n            return Math.floor(Math.random() * minNum + 1);\r\n        case 2:\r\n            return Math.floor(Math.random() * (maxNum - minNum + 1) + minNum);\r\n        default:\r\n            return 0;\r\n    }\r\n}\r\n\r\nfunction randomArray(source: any[], length: number = -1): Array<any> {\r\n    let randomLength = length == -1 ? source.length : length;\r\n    randomLength = Math.min(randomLength, source.length);\r\n    var copy: Array<any> = source.concat([]);\r\n    var result: Array<any> = [];\r\n    while (result.length < randomLength) {\r\n        let randomObj = randomArrayItem(copy);\r\n        result.push(randomObj);\r\n        copy.splice(copy.indexOf(randomLength), 1);\r\n    }\r\n    return result;\r\n}\r\n\r\nfunction randomArrayItem(source: any[]): any {\r\n    if (source.length > 0) {\r\n        return source[Math.floor(Math.random() * source.length)];\r\n    }\r\n    return undefined;\r\n}\r\n\r\nfunction tryToObject(source) {\r\n    if (typeof source === 'object') {\r\n        return source;\r\n    }\r\n    try {\r\n        return JSON.parse(source);\r\n    } catch (error) {\r\n        return source;\r\n    }\r\n}\r\n\r\nfunction anyToArray(source: any) {\r\n    if (source === null || source === '' || source === undefined) {\r\n        return [];\r\n    }\r\n    let value = tryToObject(source);\r\n    if (typeof value === 'string') {\r\n        return value.split(',');\r\n    }\r\n    if (value instanceof Array) {\r\n        return value;\r\n    } else {\r\n        return [value]\r\n    }\r\n}\r\n\r\nexport default {\r\n    randomUUID,\r\n    randomInteger,\r\n    randomNumber,\r\n    randomArray,\r\n    randomArrayItem,\r\n    anyToArray,\r\n    tryToObject,\r\n}","import NavStack from \"../navigator/stack\";\r\nimport ui from \"./ui\";\r\nimport screen from \"../manager/screen\";\r\n\r\nexport default class Activity extends ui {\r\n\r\n    static open(params, action) {\r\n        NavStack.navigate(this, params, action);\r\n    }\r\n\r\n    static finish() {\r\n        NavStack.finish(this);\r\n    }\r\n\r\n    static res = [];\r\n    static single = false;\r\n\r\n    public page = null;\r\n    public params = {};\r\n    public duration = 0;\r\n    public easeIn = null;\r\n    public easeOut = null;\r\n    public fromProps = null;\r\n    public toProps = null;\r\n\r\n    public onFocus?(focus): void;\r\n    public onCreate?(): void;\r\n    public onResume?(): void;\r\n    public onPause?(): void;\r\n    public onDestroy?(): void;\r\n    public onNextProgress?(progress): void;\r\n\r\n    constructor(options) {\r\n        super(() => { this.back(); });\r\n        this.width = screen.getDesignWidth();\r\n        this.height = screen.getDesignHeight();\r\n        this.params = Object.assign({}, options.params || {});\r\n        this.page = options.page;\r\n    }\r\n\r\n    //////////////////////////\r\n    /// navigator function\r\n    //////////////////////////\r\n\r\n    redirectTo(page, params = {}, action = null, single = false) {\r\n        this.navigate(page, params, () => {\r\n            this.back();\r\n            action && action();\r\n        }, single);\r\n    }\r\n\r\n    navigate(page, params = {}, action = null, single = false) {\r\n        NavStack.navigate(page, params, action, single);\r\n    }\r\n\r\n    back() {\r\n        NavStack.finish(this.page, this);\r\n    }\r\n\r\n    finish(page = this.page, instance = null) {\r\n        NavStack.finish(page, instance);\r\n    }\r\n\r\n    pop(number = 1) {\r\n        NavStack.pop(number);\r\n    }\r\n\r\n    popToTop() {\r\n        NavStack.popToTop();\r\n    }\r\n\r\n}","import env from \"../../utils/env\";\r\nimport init_fb from \"./init/init_fb\";\r\nimport init_qq from \"./init/init_qq\";\r\nimport init_wx from \"./init/init_wx\";\r\nimport init_bd from \"./init/init_bd\";\r\nimport init_br from \"./init/init_br\";\r\n\r\nimport { initScreen } from \"../manager/screen\";\r\nimport { initNavigator } from \"../navigator/init\";\r\n\r\nlet _inited = false;\r\n\r\nfunction _get() {\r\n    if (env.isFacebookApp()) {\r\n        return init_fb;\r\n    } else if (env.isQQApp()) {\r\n        return init_qq;\r\n    } else if (env.isWechatApp()) {\r\n        return init_wx;\r\n    } else if (env.isBaiduApp()) {\r\n        return init_bd;\r\n    } else {\r\n        return init_br;\r\n    }\r\n}\r\n\r\nexport function init(width: number, height: number, ...options) {\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env.isLayaApp()) {\r\n        env.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    if (env.isQQApp()) {\r\n        env.execQQ('Script.loadlib', 'GameRes://layaforqq/laya.bkadpter.js')\r\n    }\r\n    env.printDebug(`init...`);\r\n    env.printDebug(`tape version: ${env.getVersion()}`);\r\n    env.printDebug(`app version: ${env.getAppVersion()}`);\r\n    env.printDebug(`platform: ${env.getPlatform()}`);\r\n    env.printDebug(`env: ${env.getEnv()}`);\r\n    if (env.isWechatApp()) {\r\n        Laya.MiniAdpter.init(true);\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        Laya.BMiniAdapter.init(true);\r\n    }\r\n    initScreen(false, width, height, ...options);\r\n    _inited = true;\r\n}\r\n\r\nexport function init3D(width: number, height: number, ...options) {\r\n    if (_inited) {\r\n        return;\r\n    }\r\n    if (!env.isLayaApp()) {\r\n        env.printError('Please ensure that the \\'Laya\\' library has been introduced.');\r\n        return;\r\n    }\r\n    if (env.isQQApp()) {\r\n        env.execQQ('Script.loadlib', 'GameRes://layaforqq/laya.bkadpter.js')\r\n    }\r\n    env.printDebug(`init3D...`);\r\n    env.printDebug(`tape version: ${env.getVersion()}`);\r\n    env.printDebug(`app version: ${env.getAppVersion()}`);\r\n    env.printDebug(`platform: ${env.getPlatform()}`);\r\n    env.printDebug(`env: ${env.getEnv()}`);\r\n    if (env.isWechatApp()) {\r\n        Laya.MiniAdpter.init(true);\r\n    }\r\n    initScreen(true, width, height, ...options);\r\n    _inited = true;\r\n}\r\n\r\nexport function start(options, onLoaded = null) {\r\n    if (!_inited) {\r\n        env.printError('Please complete the initialization of Tape first.');\r\n        return;\r\n    }\r\n    if (!options) {\r\n        options = {};\r\n    }\r\n    let newOptions = {\r\n        mainPage: options.mainPage || null,\r\n        commonRes: options.commonRes || [],\r\n        fileVersion: options.fileVersion,\r\n        onLoadProgress: (progress) => {\r\n            _get().onLoadProgress(progress);\r\n            options.onLoadProgress && options.onLoadProgress(progress);\r\n        },\r\n        onLoaded: () => {\r\n            _get().onLoaded();\r\n            onLoaded && onLoaded();\r\n            options.onLoaded && options.onLoaded();\r\n        }\r\n    }\r\n    let onStart = () => {\r\n        initNavigator(newOptions);\r\n    }\r\n    _get().start(onStart);\r\n}\r\n\r\nexport function exit() {\r\n    _get().exit();\r\n}","import env from \"../../../utils/env\";\r\nimport { IInit } from \"../_inters\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nlet _isLoaded = false;\r\nlet _percentage = 0;\r\n\r\nfunction runMockLoading() {\r\n    if (_isLoaded) {\r\n        return;\r\n    }\r\n    _percentage += 1;\r\n    if (_percentage > 99) {\r\n        _percentage = 99;\r\n    } else {\r\n        setTimeout(runMockLoading, 50);\r\n    }\r\n    env.execFB('setLoadingProgress', _percentage);\r\n}\r\n\r\nclass Init implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        runMockLoading();\r\n        env.execFB('initializeAsync').then(() => {\r\n            callback && callback();\r\n        });\r\n    }\r\n\r\n    public exit() {\r\n        env.execFB('setSessionData', { message: 'quit game' })\r\n        env.execFB('quit');\r\n    }\r\n\r\n    public onLoaded() {\r\n        _isLoaded = true;\r\n        env.execFB('setLoadingProgress', 100);\r\n        env.execFB('startGameAsync').then(() => {\r\n            setNavigatorReady();\r\n        });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init;","import { IInit } from \"../_inters\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass Init implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        callback && callback();\r\n    }\r\n\r\n    public exit() {\r\n    }\r\n\r\n    public onLoaded() {\r\n        setNavigatorReady();\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init;","import env from \"../../../utils/env\";\r\nimport screen from \"../../manager/screen\";\r\nimport { IInit } from \"../_inters\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass Init implements IInit {\r\n\r\n    start(callback: () => void) {\r\n        if (window.hasOwnProperty('sharedCanvas')) {\r\n            var sharedCanvas = window['sharedCanvas'];\r\n            sharedCanvas.width = screen.getWidth();\r\n            sharedCanvas.height = screen.getHeight();\r\n        }\r\n        callback && callback();\r\n    }\r\n\r\n    exit() {\r\n        env.execWX('exitMiniProgram');\r\n    }\r\n\r\n    onLoaded() {\r\n        setNavigatorReady();\r\n        env.postMessageToWXOpenDataContext({\r\n            action: \"initRank\",\r\n            data: {\r\n                width: screen.getWidth(),\r\n                height: screen.getHeight(),\r\n                offsetX: screen.getOffestX(),\r\n                offsetY: screen.getOffestY(),\r\n                designWidth: screen.getDesignWidth(),\r\n                designHeight: screen.getDesignHeight(),\r\n            }\r\n        });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init;","import env from \"../../../utils/env\";\r\nimport { IInit } from \"../_inters\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass Init implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        // if (window.hasOwnProperty('sharedCanvas')) {\r\n        //     var sharedCanvas = window['sharedCanvas'];\r\n        //     sharedCanvas.width = screen.getWidth();\r\n        //     sharedCanvas.height = screen.getHeight();\r\n        // }\r\n        callback && callback();\r\n    }\r\n\r\n    public exit() {\r\n        env.execBD('exit');\r\n    }\r\n\r\n    public onLoaded() {\r\n        setNavigatorReady();\r\n        // env.postMessageToBDOpenDataContext({\r\n        //     action: \"initRank\",\r\n        //     data: {\r\n        //         width: screen.getWidth(),\r\n        //         height: screen.getHeight(),\r\n        //         offsetX: screen.getOffestX(),\r\n        //         offsetY: screen.getOffestY(),\r\n        //         designWidth: screen.getDesignWidth(),\r\n        //         designHeight: screen.getDesignHeight(),\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init","import env from \"../../../utils/env\";\r\nimport { IInit } from \"../_inters\";\r\nimport { setNavigatorReady } from \"../../navigator/init\";\r\n\r\nclass Init implements IInit {\r\n\r\n    public start(callback: () => void) {\r\n        callback && callback();\r\n    }\r\n\r\n    public exit() {\r\n        env.execBR('conch.exit');\r\n    }\r\n\r\n    public onLoaded() {\r\n        setNavigatorReady();\r\n    }\r\n\r\n    public onLoadProgress(progress) {\r\n    }\r\n\r\n}\r\n\r\nexport default new Init;","import env from \"../utils/env\";\r\nimport comp_toast from \"./comps/comp_toast\";\r\nimport comp_modal from \"./comps/comp_modal\";\r\nimport comp_loading from \"./comps/comp_loading\";\r\nimport comp_vibrate from \"./comps/comp_vibrate\";\r\n\r\nexport function showLoading(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showLoading', params)\r\n    }\r\n    // if (env.isBaiduApp()) {\r\n    //     return env.execBD('showLoading', params)\r\n    // }\r\n    comp_loading.showLoading(params);\r\n    comp_toast.hideToast();\r\n}\r\n\r\nexport function hideLoading() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('hideLoading')\r\n    }\r\n    // if (env.isBaiduApp()) {\r\n    //     return env.execBD('hideLoading')\r\n    // }\r\n    comp_loading.hideLoading();\r\n}\r\n\r\nexport function showToast(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showToast', params)\r\n    }\r\n    // if (env.isBaiduApp()) {\r\n    //     return env.execBD('showToast', params)\r\n    // }\r\n    comp_toast.showToast(params);\r\n    comp_loading.hideLoading();\r\n}\r\n\r\nexport function hideToast() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('hideToast')\r\n    }\r\n    // if (env.isBaiduApp()) {\r\n    //     return env.execBD('hideToast')\r\n    // }\r\n    comp_toast.hideToast();\r\n}\r\n\r\nexport function showModal(params) {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('showModal', params)\r\n    }\r\n    // if (env.isBaiduApp()) {\r\n    //     return env.execBD('showModal', params)\r\n    // }\r\n    comp_modal.showModal(params)\r\n}\r\n\r\nexport function vibrateShort() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('vibrateShort')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('vibrateShort')\r\n    }\r\n    comp_vibrate.vibrateShort();\r\n}\r\n\r\nexport function vibrateLong() {\r\n    if (env.isWechatApp()) {\r\n        return env.execWX('vibrateLong')\r\n    }\r\n    if (env.isBaiduApp()) {\r\n        return env.execBD('vibrateLong')\r\n    }\r\n    comp_vibrate.vibrateLong();\r\n}","import ToastView from \"../display/toastview\";\r\nimport { TipsView } from \"../views/tips\";\r\n\r\nclass Toast extends ToastView {\r\n\r\n    ui = new TipsView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.duration = 0;\r\n        if (this.params.duration) {\r\n            this.displayDuration = this.params.duration;\r\n        }\r\n        if (this.displayDuration > 3000) {\r\n            this.displayDuration = 3000;\r\n        }\r\n        if (this.displayDuration < 500) {\r\n            this.displayDuration = 500;\r\n        }\r\n        this.nonPenetrating = this.params.mask === true;\r\n        this.ui.setContent(this.params.title || '', this.params.image || this.params.icon || 'success');\r\n        this.params.success && this.params.success();\r\n        this.params.complete && this.params.complete();\r\n    }\r\n\r\n}\r\n\r\nfunction showToast(params) {\r\n    Toast.hide();\r\n    Toast.show(params, null)\r\n}\r\n\r\nfunction hideToast() {\r\n    Toast.hide();\r\n}\r\n\r\nexport default {\r\n    showToast,\r\n    hideToast,\r\n}","import env from \"../../utils/env\";\r\n\r\nconst icon_base64 = {\r\n    success: 'data:image/png;base64,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',\r\n    loading: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpw\\\r\n    YAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFB\\\r\n    URnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5\\\r\n    svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0\\\r\n    ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80\\\r\n    DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52\\\r\n    zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9M\\\r\n    OOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS\\\r\n    6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAES\\\r\n    ggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQc\\\r\n    gIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKx\\\r\n    qBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EE\\\r\n    MJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2k\\\r\n    U6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1O\\\r\n    HqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5\\\r\n    lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjD\\\r\n    bKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMt\\\r\n    Py2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R8\\\r\n    3MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmut\\\r\n    G003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLt\\\r\n    qitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUX\\\r\n    pkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70\\\r\n    eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2\\\r\n    sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pG\\\r\n    ZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAuds\\\r\n    mjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+mi\\\r\n    GT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA\\\r\n    4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8\\\r\n    o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9\\\r\n    akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFd\\\r\n    rvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUO\\\r\n    ihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8m\\\r\n    WtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m9\\\r\n    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',\r\n}\r\n\r\nfunction _getIcon(icon) {\r\n    if (icon == 'loading') {\r\n        if (env.isConchApp() || env.isQQApp()) {\r\n            return 'icon/ic_tape_loading.png';\r\n        }\r\n        return icon_base64.loading;\r\n    } else if (icon == 'success') {\r\n        if (env.isConchApp() || env.isQQApp()) {\r\n            return 'icon/ic_tape_success.png';\r\n        }\r\n        return icon_base64.success;\r\n    } else {\r\n        return icon;\r\n    }\r\n}\r\n\r\nexport default class extends Laya.Sprite {\r\n\r\n    private _image: Laya.Image;\r\n    private _angle = 0;\r\n\r\n    constructor() {\r\n        super();\r\n        this._image = new Laya.Image;\r\n        this.addChild(this._image);\r\n    }\r\n\r\n    public setSize(size) {\r\n        this.width = size;\r\n        this.height = size;\r\n        this.pivot(size / 2, size / 2);\r\n    }\r\n\r\n    public setIcon(icon) {\r\n        this._image.visible = true;\r\n        this._image.width = this.width;\r\n        this._image.height = this.height;\r\n        this._image.skin = _getIcon(icon);\r\n        this._stop();\r\n        if (icon == 'loading') {\r\n            this._play();\r\n        }\r\n    }\r\n\r\n    private _play() {\r\n        this.timer.frameLoop(1, this, this._update);\r\n    }\r\n\r\n    private _stop() {\r\n        this.timer.clear(this, this._update);\r\n        this._angle = 0;\r\n        this.rotation = this._angle;\r\n    }\r\n\r\n    private _update() {\r\n        this._angle += 5;\r\n        if (this._angle >= 360) {\r\n            this._angle = this._angle - 360;\r\n        }\r\n        this.rotation = this._angle;\r\n    }\r\n\r\n}","import PopupView from \"../display/popupview\";\r\nimport { ModalContentView } from \"../views/modal\";\r\n\r\nclass Modal extends PopupView {\r\n\r\n    ui = new ModalContentView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.isTranslucent = false;\r\n        this.ui.setContent(\r\n            this.params.title,\r\n            this.params.content,\r\n            this.params.showCancel,\r\n            this.params.cancelText,\r\n            this.params.cancelColor,\r\n            this.params.confirmText,\r\n            this.params.confirmColor,\r\n            (res) => {\r\n                this.hide();\r\n                this.params.success && this.params.success(res);\r\n                this.params.complete && this.params.complete(res);\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction showModal(params) {\r\n    Modal.show(params, null);\r\n}\r\n\r\nexport default {\r\n    showModal,\r\n}","import bg from \"./bg\";\r\nimport screen from \"../manager/screen\";\r\n\r\nfunction _btnEffect(view: Laya.Label) {\r\n    view.offAll();\r\n    view.on(Laya.Event.MOUSE_DOWN, view, () => {\r\n        view.bgColor = '#dddddd';\r\n    });\r\n    view.on(Laya.Event.MOUSE_UP, view, () => {\r\n        view.bgColor = '#eeeeee';\r\n    });\r\n    view.on(Laya.Event.MOUSE_OUT, view, () => {\r\n        view.bgColor = '#eeeeee';\r\n    });\r\n}\r\n\r\nexport class ModalContentView extends Laya.Sprite {\r\n\r\n    private _maxW = 0;\r\n    private _padding = 0;\r\n    private _fontSize = 0;\r\n    private _radius = 0;\r\n    private _btnHeight = 0;\r\n    private _titleView = null;\r\n    private _contentView = null;\r\n    private _bgView = null;\r\n    private _btnsView = null;\r\n    private _cancelBtn = null;\r\n    private _confirmBtn = null;\r\n    private _lineView = null;\r\n    private _line2View = null;\r\n    private _lineHeight = 0;\r\n    private _callback = null;\r\n\r\n    constructor() {\r\n        super();\r\n        let size = Math.min(screen.getDesignWidth(), screen.getDesignHeight());\r\n        this._maxW = size * 0.7;\r\n        this._padding = size * 0.06;\r\n        this._fontSize = size * 0.06;\r\n        this._btnHeight = size * 0.15;\r\n        this._lineHeight = size * 0.005;\r\n        this._radius = 0;\r\n        this._initBg();\r\n        this._initTitle();\r\n        this._initContent();\r\n        this._initButton();\r\n    }\r\n\r\n    private _initBg() {\r\n        this._bgView = new bg();\r\n        this._bgView.name = 'bg';\r\n        this._bgView.color = '#eeeeee';\r\n        this._bgView.radius = this._radius;\r\n        this.addChild(this._bgView);\r\n    }\r\n\r\n    private _initTitle() {\r\n        this._titleView = new Laya.Label()\r\n        this._titleView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._titleView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._titleView.wordWrap = true;\r\n        this._titleView.name = 'title';\r\n        this._titleView.fontSize = this._fontSize;\r\n        this._titleView.color = '#333333';\r\n        this._titleView.x = this._padding;\r\n        this._titleView.y = this._padding;\r\n        this.addChild(this._titleView);\r\n    }\r\n\r\n    private _initContent() {\r\n        this._contentView = new Laya.Label()\r\n        this._contentView.align = Laya.Stage.ALIGN_CENTER;\r\n        this._contentView.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._contentView.wordWrap = true;\r\n        this._contentView.name = 'content';\r\n        this._contentView.fontSize = this._fontSize;\r\n        this._contentView.color = '#666666';\r\n        this._contentView.x = this._padding;\r\n        this._contentView.y = this._padding;\r\n        this.addChild(this._contentView);\r\n    }\r\n\r\n    private _initButton() {\r\n        this._btnsView = new Laya.Label;\r\n        this._lineView = new Laya.Label;\r\n        this._lineView.bgColor = '#666666';\r\n        this._lineView.alpha = 0.2;\r\n        this._lineView.height = this._lineHeight;\r\n\r\n        this._line2View = new Laya.Label;\r\n        this._line2View.bgColor = '#666666';\r\n        this._line2View.alpha = 0.2;\r\n        this._line2View.height = this._btnHeight - this._lineHeight;\r\n        this._line2View.width = this._lineHeight;\r\n        this._line2View.y = this._lineHeight;\r\n\r\n        this._btnsView.height = this._btnHeight;\r\n\r\n        this._cancelBtn = new Laya.Label;\r\n        this._cancelBtn.align = Laya.Stage.ALIGN_CENTER;\r\n        this._cancelBtn.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._cancelBtn.height = this._btnHeight;\r\n        this._cancelBtn.fontSize = this._fontSize;\r\n\r\n        this._confirmBtn = new Laya.Label;\r\n        this._confirmBtn.align = Laya.Stage.ALIGN_CENTER;\r\n        this._confirmBtn.valign = Laya.Stage.ALIGN_MIDDLE;\r\n        this._confirmBtn.height = this._btnHeight;\r\n        this._confirmBtn.fontSize = this._fontSize;\r\n\r\n        _btnEffect(this._cancelBtn);\r\n        _btnEffect(this._confirmBtn);\r\n\r\n        this._btnsView.addChild(this._cancelBtn);\r\n        this._btnsView.addChild(this._confirmBtn);\r\n        this._btnsView.addChild(this._lineView);\r\n        this._btnsView.addChild(this._line2View);\r\n\r\n        this._confirmBtn.on(Laya.Event.CLICK, this, () => {\r\n            this._callback && this._callback({\r\n                confirm: true,\r\n                cancel: false\r\n            })\r\n        })\r\n        this._cancelBtn.on(Laya.Event.CLICK, this, () => {\r\n            this._callback && this._callback({\r\n                confirm: false,\r\n                cancel: true\r\n            })\r\n        })\r\n        this.addChild(this._btnsView);\r\n    }\r\n\r\n    public setContent(title, content, showCancel = true, cancelText = '取消', cancelColor = '#000000', confirmText = '确定', confirmColor = '#3cc51f', callback = null) {\r\n\r\n        this._callback = callback;\r\n\r\n        this._cancelBtn.fontSize = this._fontSize;\r\n        this._cancelBtn.text = cancelText;\r\n        this._cancelBtn.color = cancelColor;\r\n\r\n        this._confirmBtn.fontSize = this._fontSize;\r\n        this._confirmBtn.text = confirmText;\r\n        this._confirmBtn.color = confirmColor;\r\n\r\n        this._titleView.width = this._maxW;\r\n        this._contentView.width = this._maxW;\r\n\r\n        if (title) {\r\n            this._titleView.height = undefined;\r\n            this._titleView.text = title;\r\n        } else {\r\n            this._titleView.height = 0;\r\n        }\r\n\r\n        if (content) {\r\n            this._contentView.height = undefined;\r\n            this._contentView.text = content;\r\n            this._contentView.y = this._titleView.y + this._titleView.height + this._padding / 2;\r\n        } else {\r\n            this._contentView.height = 0;\r\n            this._contentView.y = this._titleView.y + this._titleView.height;\r\n        }\r\n\r\n        this._btnsView.y = this._contentView.height + this._contentView.y + this._padding;\r\n\r\n        this._bgView.height = this._btnsView.height + this._btnsView.y;\r\n        this._bgView.width = this._titleView.width + 2 * this._padding;\r\n\r\n        this._lineView.width = this._bgView.width;\r\n        this._btnsView.width = this._bgView.width;\r\n\r\n        if (showCancel) {\r\n            this._line2View.visible = true;\r\n            this._cancelBtn.visible = true;\r\n            this._line2View.x = this._btnsView.width / 2;\r\n            this._cancelBtn.width = this._btnsView.width / 2;\r\n            this._confirmBtn.x = this._btnsView.width / 2;\r\n            this._confirmBtn.width = this._btnsView.width / 2;\r\n        } else {\r\n            this._line2View.visible = false;\r\n            this._cancelBtn.visible = false;\r\n            this._confirmBtn.x = 0;\r\n            this._confirmBtn.width = this._btnsView.width;\r\n        }\r\n\r\n        this._bgView.callDraw();\r\n        this.x = (screen.getDesignWidth() - this._bgView.width) / 2;\r\n        this.y = (screen.getDesignHeight() - this._bgView.height) / 2;\r\n\r\n    }\r\n\r\n}","import ToastView from \"../display/toastview\";\r\nimport { TipsView } from \"../views/tips\";\r\n\r\nclass Loading extends ToastView {\r\n\r\n    ui = new TipsView;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onShow() {\r\n        this.duration = 0;\r\n        this.displayDuration = -1;\r\n        this.isTranslucent = true;\r\n        this.nonPenetrating = this.params.mask === true;\r\n        this.ui.setContent(this.params.title, 'loading');\r\n        this.params.success && this.params.success();\r\n        this.params.complete && this.params.complete();\r\n    }\r\n\r\n}\r\n\r\nfunction showLoading(params) {\r\n    Loading.hide();\r\n    Loading.show(params, null);\r\n}\r\n\r\nfunction hideLoading() {\r\n    Loading.hide();\r\n}\r\n\r\nexport default {\r\n    showLoading,\r\n    hideLoading,\r\n}","function vibrateForH5(pattern) {\r\n    let vs = ['vibrate', 'webkitVibrate', 'webkitVibrate', 'mozVibrate', 'msVibrate'];\r\n    for (let index = 0; index < vs.length; index++) {\r\n        const element = vs[index];\r\n        if (window && window.navigator && window.navigator[element]) {\r\n            try {\r\n                return window.navigator[element](pattern);\r\n            } catch (error) {\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction vibrateShort() {\r\n    vibrateForH5([1000])\r\n}\r\n\r\nfunction vibrateLong() {\r\n    vibrateForH5([3000])\r\n}\r\n\r\nexport default {\r\n    vibrateLong,\r\n    vibrateShort,\r\n}"],"sourceRoot":""}